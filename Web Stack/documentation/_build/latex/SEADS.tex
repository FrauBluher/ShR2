% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\usepackage[utf8]{inputenc}
\DeclareUnicodeCharacter{00A0}{\nobreakspace}
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{babel}
\usepackage{times}
\usepackage[Bjarne]{fncychap}
\usepackage{longtable}
\usepackage{sphinx}
\usepackage{multirow}

\addto\captionsenglish{\renewcommand{\figurename}{Fig. }}
\addto\captionsenglish{\renewcommand{\tablename}{Table }}
\floatname{literal-block}{Listing }



\title{SEADS Documentation}
\date{June 03, 2015}
\release{1.0}
\author{Bryan Smith}
\newcommand{\sphinxlogo}{}
\renewcommand{\releasename}{Release}
\makeindex

\makeatletter
\def\PYG@reset{\let\PYG@it=\relax \let\PYG@bf=\relax%
    \let\PYG@ul=\relax \let\PYG@tc=\relax%
    \let\PYG@bc=\relax \let\PYG@ff=\relax}
\def\PYG@tok#1{\csname PYG@tok@#1\endcsname}
\def\PYG@toks#1+{\ifx\relax#1\empty\else%
    \PYG@tok{#1}\expandafter\PYG@toks\fi}
\def\PYG@do#1{\PYG@bc{\PYG@tc{\PYG@ul{%
    \PYG@it{\PYG@bf{\PYG@ff{#1}}}}}}}
\def\PYG#1#2{\PYG@reset\PYG@toks#1+\relax+\PYG@do{#2}}

\expandafter\def\csname PYG@tok@gd\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@gu\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@gt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PYG@tok@gs\endcsname{\let\PYG@bf=\textbf}
\expandafter\def\csname PYG@tok@gr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@cm\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@vg\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@m\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@mh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@cs\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\colorbox[rgb]{1.00,0.94,0.94}{\strut ##1}}}
\expandafter\def\csname PYG@tok@ge\endcsname{\let\PYG@it=\textit}
\expandafter\def\csname PYG@tok@vc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@il\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@go\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.20,0.20,0.20}{##1}}}
\expandafter\def\csname PYG@tok@cp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@gi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PYG@tok@gh\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@ni\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.84,0.33,0.22}{##1}}}
\expandafter\def\csname PYG@tok@nl\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.13,0.44}{##1}}}
\expandafter\def\csname PYG@tok@nn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@no\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.38,0.68,0.84}{##1}}}
\expandafter\def\csname PYG@tok@na\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@nb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@nd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.33,0.33,0.33}{##1}}}
\expandafter\def\csname PYG@tok@ne\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.49}{##1}}}
\expandafter\def\csname PYG@tok@si\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.44,0.63,0.82}{##1}}}
\expandafter\def\csname PYG@tok@s2\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@vi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@nt\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.45}{##1}}}
\expandafter\def\csname PYG@tok@nv\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@s1\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@gp\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@sh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@ow\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@sx\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@bp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@c1\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@kc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@c\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@mf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@err\endcsname{\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PYG@tok@mb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@ss\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.32,0.47,0.09}{##1}}}
\expandafter\def\csname PYG@tok@sr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.14,0.33,0.53}{##1}}}
\expandafter\def\csname PYG@tok@mo\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@kd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@mi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@kn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@o\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PYG@tok@kr\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@s\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@kp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@w\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PYG@tok@kt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.56,0.13,0.00}{##1}}}
\expandafter\def\csname PYG@tok@sc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@k\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@se\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sd\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}

\def\PYGZbs{\char`\\}
\def\PYGZus{\char`\_}
\def\PYGZob{\char`\{}
\def\PYGZcb{\char`\}}
\def\PYGZca{\char`\^}
\def\PYGZam{\char`\&}
\def\PYGZlt{\char`\<}
\def\PYGZgt{\char`\>}
\def\PYGZsh{\char`\#}
\def\PYGZpc{\char`\%}
\def\PYGZdl{\char`\$}
\def\PYGZhy{\char`\-}
\def\PYGZsq{\char`\'}
\def\PYGZdq{\char`\"}
\def\PYGZti{\char`\~}
% for compatibility with earlier versions
\def\PYGZat{@}
\def\PYGZlb{[}
\def\PYGZrb{]}
\makeatother

\renewcommand\PYGZsq{\textquotesingle}

\begin{document}

\maketitle
\tableofcontents
\phantomsection\label{index::doc}

\begin{quote}\begin{description}
\item[{Author}] \leavevmode
\href{https://github.com/brabsmit}{Bryan Smith}

\item[{License}] \leavevmode
This document is licensed under a \href{http://creativecommons.org/licenses/by-sa/4.0/}{Creative Commons Attribution-ShareAlike 4.0 International License}.

\end{description}\end{quote}

\begin{notice}{note}{Note:}
Official API documentation is available \href{http://seads.io/docs/}{here}.
\end{notice}


\chapter{Installation}
\label{installation:installation}\label{installation:smart-energy-analysis-and-disaggregation-web-components}\label{installation::doc}\label{installation:id1}

\section{Introduction}
\label{installation:introduction}
The SEADS web infrastructure provieds a simple API to read/write the data gathered by the SEAD Light.In addition, this framework is designed to provide in-house visualization and cost analysis of the energy usage. Built on Django, it is encouraged that this environment be augmented with new and improved applications that can interface with the data.

The current setup has all the necessary infrastructure in place for SEAD Lights to send their data. In addition, a proof-of-concept application has been created to interface with the data in a meaningful way.

There are two ways to deploy this system:
\begin{enumerate}
\item {} 
Scalable framework based in the Amazon Cloud Computing Services (recommended)

\item {} 
Atomic install on a single machine (easy)

\end{enumerate}


\section{Installing Scalable Framework in Amazon Compute Cloud (Ubuntu)}
\label{installation:installing-scalable-framework-in-amazon-compute-cloud-ubuntu}
\begin{notice}{note}{Note:}
This project was developed entirely on a Ubuntu build (14.04.2) so these instructions will be tailored towards that build. However, this framework should install semi-peacefully on any OS that can run python/nginx/uwsgi.

These instructions will assume you know how to interface with the amazon AWS console to create new instances. Refer to the \href{http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EC2\_GetStarted.html}{Getting Started Guide} for more information.
\end{notice}


\subsection{Basic Server Outline}
\label{installation:basic-server-outline}
For the scalable framework to work correctly, there is a bare minimum of 3 servers that need to be always running. Each server has a unique purpose:
\begin{enumerate}
\item {} 
Influxdb Server - A medium/large instance that houses the data from the SEAD Light. Needs to be large to handle the calculations that go into the fanout queries of the database.

\item {} 
Webapp Stateful Server - A server that houses the Django database that holds state information about the web application, such as user credentials and model relations.

\item {} 
Webapp Stateless Server - A skeleton server that serves as the frontend for users connecting to the web interface. This server is a clone of an image used in the auto scaling group.

\end{enumerate}

The servers are setup with the following hierarchy:

The infrastructure is set up in this way to deal with a scalable load in an intelligent way. If there is little to no traffic to the website/REST API, the servers will spin down to a minimal state. However, if load increases, the infrastructure is designed to automatically spin up new instances of the web application so that no single instance is overloaded.


\subsection{InfluxDB Server Setup}
\label{installation:influxdb-server-setup}
To get started, create a medium/large instance for the InfluxDB database. The operating system is recommended to be Ubuntu, but this is not a requirement. This server will only be interfaced by the stateless web servers under the following circumstances: 1) A user requests device data via the web application, 2) A user/device interacts with the REST API to read/write device data.

The following ports should be opened for the InfluxDB instance:

\begin{tabulary}{\linewidth}{|L|L|L|L|L|}
\hline
\textsf{\relax 
Type
} & \textsf{\relax 
Protocol
} & \textsf{\relax 
Port Range
} & \textsf{\relax 
Source
} & \textsf{\relax 
Purpose
}\\
\hline
SSH
 & 
TCP
 & 
22
 & 
0.0.0.0/0
 & 
Self explanatory
\\
\hline
Custom TCP Rule
 & 
TCP
 & 
8083
 & 
0.0.0.0/0
 & 
Exposes the database web API for interactive use
\\
\hline
Custom TCP Rule
 & 
TCP
 & 
8086
 & 
0.0.0.0/0
 & 
Exposes the database REST port for the python interface
\\
\hline\end{tabulary}


Once the server has booted, connect to it via ssh and do the following:
\begin{enumerate}
\item {} 
Install Git:

\begin{Verbatim}[commandchars=\\\{\}]
sudo apt\PYGZhy{}get install git
\end{Verbatim}

\item {} 
Clone the SEADS repository:

\begin{Verbatim}[commandchars=\\\{\}]
git clone https://github.com/Fraubluher/ShR2/
\end{Verbatim}

\item {} 
Run the deploy script for influxdb:

\begin{Verbatim}[commandchars=\\\{\}]
cd ShR2/Web\PYGZbs{} Stack/
sudo ./deploy\PYGZus{}database.sh
\end{Verbatim}

\item {} 
Reboot the server:

\begin{Verbatim}[commandchars=\\\{\}]
sudo reboot
\end{Verbatim}

\item {} 
Configure the database:

\begin{Verbatim}[commandchars=\\\{\}]
curl \PYGZhy{}X POST \PYGZsq{}http://localhost:8086/db?u=\PYGZlt{}username\PYGZgt{}\PYGZam{}p=\PYGZlt{}password\PYGZgt{}\PYGZsq{} \PYGZbs{}
         \PYGZhy{}d \PYGZsq{}\PYGZob{}\PYGZdq{}name\PYGZdq{}: \PYGZdq{}seads\PYGZdq{}\PYGZcb{}\PYGZsq{}
\end{Verbatim}

\end{enumerate}

The InfluxDB server is now ready to respond to requests.


\subsection{Django Web Application Stateful Server Setup}
\label{installation:django-web-application-stateful-server-setup}
This process will walk you through the process of installing a stateful server for the Django web application.

Create a tiny/small instance running Ubuntu (the operating system is recommended to be Ubuntu, but this is not a requirement).

The following ports should be opened for the stateful server:

\begin{tabulary}{\linewidth}{|L|L|L|L|L|}
\hline
\textsf{\relax 
Type
} & \textsf{\relax 
Protocol
} & \textsf{\relax 
Port Range
} & \textsf{\relax 
Source
} & \textsf{\relax 
Purpose
}\\
\hline
SSH
 & 
TCP
 & 
22
 & 
0.0.0.0/0
 & 
Self explanatory
\\
\hline
MYSQL
 & 
TCP
 & 
3306
 & 
0.0.0.0/0
 & 
Port for remotely interfacing with Django database
\\
\hline\end{tabulary}


Once the server has booted, connect to it via ssh and do the following:
\begin{enumerate}
\item {} 
Install Git:

\begin{Verbatim}[commandchars=\\\{\}]
sudo apt\PYGZhy{}get install git
\end{Verbatim}

\item {} 
Clone the SEADS repository:

\begin{Verbatim}[commandchars=\\\{\}]
git clone https://github.com/Fraubluher/ShR2/
\end{Verbatim}

\item {} 
Run the deploy script for influxdb:

\begin{Verbatim}[commandchars=\\\{\}]
cd ShR2/Web\PYGZbs{} Stack/
sudo ./deploy\PYGZus{}webapp\PYGZus{}stateful.sh
\end{Verbatim}

\end{enumerate}

This script will take you through the process of creating the MySQL database to be used by the stateless servers in the future. You will be prompted to create a root user on the database, remember the credentials for later.

This script will install all the necessary dependencies for the Django project. This will take a while, grab a beverage.

Near the end, several prompts will appear. You will be prompted to create the Django user in the MySQL database that is used to interface with the stateless servers. Leaving prompts blank will roll over to their default values indicated in the parentheses.
\begin{enumerate}
\setcounter{enumi}{3}
\item {} 
Reboot the server:

\begin{Verbatim}[commandchars=\\\{\}]
sudo reboot
\end{Verbatim}

\end{enumerate}

This server should now be properly configured to run as a stateful implementation of the web application.


\subsection{Django Web Application Stateless Server Setup}
\label{installation:django-web-application-stateless-server-setup}
The final step in assembling the server infrastructure is to create a stateless instance of the web application. This will provide the basis for which an auto scaler can instantiate more/less instances of the web application automatically.

Create a tiny/small instance running Ubuntu (the operating system is recommended to be Ubuntu, but this is not a requirement).

The following ports should be opened for the stateful server:

\begin{tabulary}{\linewidth}{|L|L|L|L|L|}
\hline
\textsf{\relax 
Type
} & \textsf{\relax 
Protocol
} & \textsf{\relax 
Port Range
} & \textsf{\relax 
Source
} & \textsf{\relax 
Purpose
}\\
\hline
SSH
 & 
TCP
 & 
22
 & 
0.0.0.0/0
 & 
Self explanatory
\\
\hline
HTTP
 & 
TCP
 & 
80
 & 
0.0.0.0/0
 & 
Self explanatory
\\
\hline\end{tabulary}


Since this is the forward-facing instance, the HTTP port is opened for clients to connect to. This allows both end users and SEAD Lights to connect and interact.

Once the server has booted, connect to it via ssh and do the following:
\begin{enumerate}
\item {} 
Install Git:

\begin{Verbatim}[commandchars=\\\{\}]
sudo apt\PYGZhy{}get install git
\end{Verbatim}

\item {} 
Clone the SEADS repository:

\begin{Verbatim}[commandchars=\\\{\}]
git clone https://github.com/Fraubluher/ShR2/
\end{Verbatim}

\item {} 
Run the deploy script for influxdb:

\begin{Verbatim}[commandchars=\\\{\}]
cd ShR2/Web\PYGZbs{} Stack/
sudo ./deploy\PYGZus{}webapp\PYGZus{}stateless.sh
\end{Verbatim}

\end{enumerate}

When this script runs, it will prompt for the address for the remote database (Django database host address). This is the address of the server created in the previous step.
\begin{enumerate}
\setcounter{enumi}{3}
\item {} 
Reboot the server:

\begin{Verbatim}[commandchars=\\\{\}]
sudo reboot
\end{Verbatim}

\end{enumerate}

When the server reboots, you should now be able to connect to it from a web browser and test out the functionality. The stateless server is the address in which clients and SEAD Lights should connect.


\subsection{Finishing Up}
\label{installation:finishing-up}
At this point, you have a functioning server framework that is eligible for load balancing and auto scaling. This guide does not get into the specifics since it is unique to the cloud service being used.

In general, these are the steps you should follow:
\begin{enumerate}
\item {} 
Create an image from the fully-configured webapp stateful server.

\item {} 
Configure and auto scaling group based on the image.

\item {} 
Configure a load balancer based off the auto scaling group.

\end{enumerate}

If you choose to link the server's address to a domain name after configuring a load balancer, a CNAME record must be created with the DNS provider with the load balancer's address.


\section{Installing Atomic Server}
\label{installation:installing-atomic-server}
\begin{notice}{note}{Note:}
This project was developed entirely on a Ubuntu build (14.04.2) so these instructions will be tailored towards that build. However, this framework should install semi-peacefully on any OS that can run python/nginx/uwsgi.

These instructions will not focus on deploying in the Amazon Compute Cloud, however it is certainly possible to do so.
\end{notice}


\subsection{Basic Server Outline}
\label{installation:id2}
This server will comprise all aspects of the project on a single machine. This type of setup is intended for a small user base on the order of 10's of users. Any more and you should consider adopting the scalable approach above. It is recommended to use Ubuntu simply because this platform was developed and tested solely on Ubuntu.

To get started, open up the following ports on your machine:

\begin{tabulary}{\linewidth}{|L|L|L|L|L|}
\hline
\textsf{\relax 
Type
} & \textsf{\relax 
Protocol
} & \textsf{\relax 
Port Range
} & \textsf{\relax 
Source
} & \textsf{\relax 
Purpose
}\\
\hline
SSH
 & 
TCP
 & 
22
 & 
0.0.0.0/0
 & 
Self explanatory
\\
\hline
Custom TCP Rule
 & 
TCP
 & 
8083
 & 
0.0.0.0/0
 & 
Exposes the database web API for interactive use
\\
\hline
Custom TCP Rule
 & 
TCP
 & 
8086
 & 
0.0.0.0/0
 & 
Exposes the database REST port for the python interface
\\
\hline
MYSQL
 & 
TCP
 & 
3306
 & 
0.0.0.0/0
 & 
Port for remotely interfacing with Django database
\\
\hline
HTTP
 & 
TCP
 & 
80
 & 
0.0.0.0/0
 & 
Self explanatory
\\
\hline\end{tabulary}

\begin{enumerate}
\item {} 
Install Git:

\begin{Verbatim}[commandchars=\\\{\}]
sudo apt\PYGZhy{}get install git
\end{Verbatim}

\item {} 
Clone the SEADS repository:

\begin{Verbatim}[commandchars=\\\{\}]
git clone https://github.com/Fraubluher/ShR2/
\end{Verbatim}

\item {} 
Run the deploy script for influxdb:

\begin{Verbatim}[commandchars=\\\{\}]
cd ShR2/Web\PYGZbs{} Stack/
sudo ./deploy\PYGZus{}webapp\PYGZus{}stateful.sh
\end{Verbatim}

\end{enumerate}

This script will walk you through creating and configuring the databases needed. For any prompt asking for an address, enter `localhost'.
\begin{enumerate}
\setcounter{enumi}{3}
\item {} 
Reboot the server:

\begin{Verbatim}[commandchars=\\\{\}]
sudo reboot
\end{Verbatim}

\end{enumerate}

When the server reboots, verify it works by visiting the server from a webpage. All basic functionality should now exist.


\chapter{Getting Started}
\label{getting-started:getting-started}\label{getting-started::doc}\label{getting-started:id1}
\begin{notice}{note}{Note:}
The SEAD Light will henceforth be referred to as a ``Device'' for sake of generalizing. This framework was built with the SEAD Light in mind, however any type of ``device'' is compatible if they follow the \href{http://seads.io/docs}{API Guidelines}.
\end{notice}

At this point, the project is now ready to begin accepting clients and devices.

To get devices connected to your project, simply point their database address at the server that faces the internet (for the scalable framework, this is the stateless server or load balancer). This will cause the devices to attempt to find themselves in the server, fail, then register themselves in the system.

From here, users can register to the website and pair to devices via their serial number.


\section{API Documentation}
\label{getting-started:api-documentation}
You can interact with the server's API by navigating to /docs. This interface was designed to allow developers easy access to the framework so that they can learn it rapidly and integrate new types of devices into the database.

The REST API is set up to be very trusting. There are no checks for malicious behavior and we assume all users are benign. It is possible to alter any and all properties of a device such as changing the owner via the API. In the future, it is recommended to include API token authentication to prevent malicious attacks.


\section{Administrative Interface}
\label{getting-started:administrative-interface}
In addition to the front facing web interface, there is an administrative interface for managing database models directly. This interface was designed to allow an administrator the ability to alter the way the website functions without having to interface with the source code directly.

An administrator can use this interface to create/modify devices, circuit types, and appliance directly. This would presumably become useful when the algorithms on the SEAD Light mature to the point where disaggregation by appliance is feasable.

In addition, an administrator can also interface with the facets of the web application, including how event notifications are handled as well as add/modify interval notifications. These are the emails sent to users after a certain event has been detected or an interval has elapsed.

There is the ability to add/modify rate plans, territories, and utility companies to the web application, giving more realistic cost predictions for a user's device.


\section{Connecting Devices to the Framework}
\label{getting-started:connecting-devices-to-the-framework}
With the new framework in place, we are now ready to begin connecting devices to the database. The general outline on how this is done is as follows:
\begin{enumerate}
\item {} 
Point device at the API Endpoint for your framework.

\end{enumerate}

The endpoint of your system depends on whether or not the scalable framework is in place. If it is, then the endpoint is the address of the Load Balancer. If this is an atomic installation, then the endpoint is the address of the machine running the applications.

For the API already in place, this would be:

\begin{Verbatim}[commandchars=\\\{\}]
http://seads.io/api/
\end{Verbatim}
\begin{enumerate}
\setcounter{enumi}{1}
\item {} 
Query the devices database to check if the serial of the device is registered:

\begin{Verbatim}[commandchars=\\\{\}]
GET http://seads.io/api/device\PYGZhy{}api/\PYGZob{}serial\PYGZcb{}/
\end{Verbatim}

\end{enumerate}

If the response is 404 (not found), continue to the next step. If the response is 302 (found), then the device is already connected and ready to transmit.
\begin{enumerate}
\setcounter{enumi}{2}
\item {} 
Register the device with the framework:

\begin{Verbatim}[commandchars=\\\{\}]
POST http://seads.io/api/device\PYGZhy{}api/?serial=\PYGZob{}serial\PYGZcb{}
\end{Verbatim}

\end{enumerate}

This POST request will register the device within the server, allocating database series and instantiating web application models that will relate to this device.

At this point, the device is ready to start transmitting packets. The device can transmit packets to the server without an owner. It is assumed that the owner is interested in seeing all data even before the device is paired, so the data is stored regardless of if the device is an orphan or not.
\begin{enumerate}
\setcounter{enumi}{3}
\item {} 
Begin data transmission:

\begin{Verbatim}[commandchars=\\\{\}]
POST http://seads.io/api/device\PYGZhy{}api/
        \PYGZob{}
                \PYGZdq{}device\PYGZdq{}: \PYGZdq{}/api/device\PYGZhy{}api/\PYGZob{}serial\PYGZcb{}/\PYGZdq{},
                \PYGZdq{}time\PYGZdq{}  : [\PYGZdq{}0x14d95894815\PYGZdq{}, \PYGZdq{}0x1\PYGZdq{}],
                \PYGZdq{}dataPoints\PYGZdq{}:[
                                        \PYGZob{}\PYGZdq{}wattage\PYGZdq{}: 170\PYGZcb{},
                                        \PYGZob{}\PYGZdq{}wattage\PYGZdq{}: 169\PYGZcb{},
                                        ...
                ]
        \PYGZcb{}
\end{Verbatim}

\end{enumerate}

This is a typical packet that could be sent to the server from the device. Here is a breakdown of the fields:
\begin{itemize}
\item {} 
Device: The hyperlinked device sending the data.

\item {} 
Time: A tuple of the format \emph{{[}start\_time, period{]}} in hexadecimal describing the packet's timing in milliseconds.

\item {} 
dataPoints: An array of undefined size containing measured values for the server. The data points are numbered \emph{0 ... n ... j} where nth data point has a timestamp of \emph{start\_time + n * period} and \emph{j} is undefined.

\end{itemize}


\chapter{Web Stack}
\label{modules/modules:web-stack}\label{modules/modules::doc}

\section{custom\_config module}
\label{modules/custom_config:custom-config-module}\label{modules/custom_config::doc}\label{modules/custom_config:module-custom_config}\index{custom\_config (module)}\index{main() (in module custom\_config)}

\begin{fulllineitems}
\phantomsection\label{modules/custom_config:custom_config.main}\pysiglinewithargsret{\code{custom\_config.}\bfcode{main}}{}{}
\end{fulllineitems}



\section{Debug Application}
\label{modules/debug::doc}\label{modules/debug:debug-application}
This application exists solely to debug other applications in this
project.

Most of the functions revolve around supplying random data to the
database to test the functionality of the chart as well as the
accuracy of the calculations for billing.


\subsection{Submodules}
\label{modules/debug:submodules}

\subsection{debug.admin module}
\label{modules/debug:debug-admin-module}\label{modules/debug:module-debug.admin}\index{debug.admin (module)}

\subsection{debug.forms module}
\label{modules/debug:debug-forms-module}\label{modules/debug:module-debug.forms}\index{debug.forms (module)}

\subsection{debug.models module}
\label{modules/debug:debug-models-module}\label{modules/debug:module-debug.models}\index{debug.models (module)}\index{TestEvent (class in debug.models)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.models.TestEvent}\pysiglinewithargsret{\strong{class }\code{debug.models.}\bfcode{TestEvent}}{\emph{id}, \emph{device\_id}, \emph{dataPoints}}{}
Bases: \code{django.db.models.base.Model}
\index{TestEvent.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.models.TestEvent.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{TestEvent.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.models.TestEvent.MultipleObjectsReturned}\pysigline{\strong{exception }\code{TestEvent.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{device (debug.models.TestEvent attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.models.TestEvent.device}\pysigline{\code{TestEvent.}\bfcode{device}}
\end{fulllineitems}

\index{objects (debug.models.TestEvent attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.models.TestEvent.objects}\pysigline{\code{TestEvent.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{save() (debug.models.TestEvent method)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.models.TestEvent.save}\pysiglinewithargsret{\code{TestEvent.}\bfcode{save}}{\emph{**kwargs}}{}
\end{fulllineitems}


\end{fulllineitems}



\subsection{debug.serializers module}
\label{modules/debug:debug-serializers-module}\label{modules/debug:module-debug.serializers}\index{debug.serializers (module)}\index{TestEventSerializer (class in debug.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.serializers.TestEventSerializer}\pysiglinewithargsret{\strong{class }\code{debug.serializers.}\bfcode{TestEventSerializer}}{\emph{instance=None}, \emph{data=\textless{}class rest\_framework.fields.empty\textgreater{}}, \emph{**kwargs}}{}
Bases: \code{rest\_framework.serializers.HyperlinkedModelSerializer}
\index{TestEventSerializer.Meta (class in debug.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.serializers.TestEventSerializer.Meta}\pysigline{\strong{class }\bfcode{Meta}}~\index{fields (debug.serializers.TestEventSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.serializers.TestEventSerializer.Meta.fields}\pysigline{\bfcode{fields}\strong{ = (`device', `dataPoints')}}
\end{fulllineitems}

\index{model (debug.serializers.TestEventSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.serializers.TestEventSerializer.Meta.model}\pysigline{\bfcode{model}}
alias of \code{TestEvent}

\end{fulllineitems}


\end{fulllineitems}


\end{fulllineitems}



\subsection{debug.urls module}
\label{modules/debug:module-debug.urls}\label{modules/debug:debug-urls-module}\index{debug.urls (module)}

\subsection{debug.views module}
\label{modules/debug:module-debug.views}\label{modules/debug:debug-views-module}\index{debug.views (module)}\index{DatadelForm (class in debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DatadelForm}\pysiglinewithargsret{\strong{class }\code{debug.views.}\bfcode{DatadelForm}}{\emph{data=None}, \emph{files=None}, \emph{auto\_id=u'id\_\%s'}, \emph{prefix=None}, \emph{initial=None}, \emph{error\_class=\textless{}class `django.forms.util.ErrorList'\textgreater{}}, \emph{label\_suffix=None}, \emph{empty\_permitted=False}}{}
Bases: \code{django.forms.forms.Form}
\index{base\_fields (debug.views.DatadelForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DatadelForm.base_fields}\pysigline{\bfcode{base\_fields}\strong{ = \{`device': \textless{}debug.views.DeviceModelChoiceField object at 0x2b2768d73a90\textgreater{}, `refresh\_queries': \textless{}django.forms.fields.BooleanField object at 0x2b2768d73b50\textgreater{}\}}}
\end{fulllineitems}

\index{media (debug.views.DatadelForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DatadelForm.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}

\index{DatagenForm (class in debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DatagenForm}\pysiglinewithargsret{\strong{class }\code{debug.views.}\bfcode{DatagenForm}}{\emph{data=None}, \emph{files=None}, \emph{auto\_id=u'id\_\%s'}, \emph{prefix=None}, \emph{initial=None}, \emph{error\_class=\textless{}class `django.forms.util.ErrorList'\textgreater{}}, \emph{label\_suffix=None}, \emph{empty\_permitted=False}}{}
Bases: \code{django.forms.forms.Form}
\index{ENERGY\_CHOICES (debug.views.DatagenForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DatagenForm.ENERGY_CHOICES}\pysigline{\bfcode{ENERGY\_CHOICES}\strong{ = ((1, `Normal'), (2, `Greedy'), (3, `Conserve'))}}
\end{fulllineitems}

\index{base\_fields (debug.views.DatagenForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DatagenForm.base_fields}\pysigline{\bfcode{base\_fields}\strong{ = \{`device': \textless{}debug.views.DeviceModelChoiceField object at 0x2b2768d73490\textgreater{}, `channels': \textless{}django.forms.models.ModelMultipleChoiceField object at 0x2b2768d73650\textgreater{}, `start': \textless{}django.forms.fields.IntegerField object at 0x2b2768d73790\textgreater{}, `stop': \textless{}django.forms.fields.IntegerField object at 0x2b2768d73810\textgreater{}, `resolution': \textless{}django.forms.fields.IntegerField object at 0x2b2768d73890\textgreater{}, `energy\_use': \textless{}django.forms.fields.ChoiceField object at 0x2b2768d73910\textgreater{}\}}}
\end{fulllineitems}

\index{media (debug.views.DatagenForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DatagenForm.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}

\index{DevForm (class in debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DevForm}\pysiglinewithargsret{\strong{class }\code{debug.views.}\bfcode{DevForm}}{\emph{data=None}, \emph{files=None}, \emph{auto\_id=u'id\_\%s'}, \emph{prefix=None}, \emph{initial=None}, \emph{error\_class=\textless{}class `django.forms.util.ErrorList'\textgreater{}}, \emph{label\_suffix=None}, \emph{empty\_permitted=False}}{}
Bases: \code{django.forms.forms.Form}
\index{base\_fields (debug.views.DevForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DevForm.base_fields}\pysigline{\bfcode{base\_fields}\strong{ = \{`method': \textless{}django.forms.fields.ChoiceField object at 0x2b2768d73bd0\textgreater{}\}}}
\end{fulllineitems}

\index{media (debug.views.DevForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DevForm.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}

\index{DeviceModelChoiceField (class in debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DeviceModelChoiceField}\pysiglinewithargsret{\strong{class }\code{debug.views.}\bfcode{DeviceModelChoiceField}}{\emph{queryset}, \emph{empty\_label=u'---------`}, \emph{cache\_choices=False}, \emph{required=True}, \emph{widget=None}, \emph{label=None}, \emph{initial=None}, \emph{help\_text=u'`}, \emph{to\_field\_name=None}, \emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.forms.models.ModelChoiceField}
\index{label\_from\_instance() (debug.views.DeviceModelChoiceField method)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.DeviceModelChoiceField.label_from_instance}\pysiglinewithargsret{\bfcode{label\_from\_instance}}{\emph{obj}}{}
\end{fulllineitems}


\end{fulllineitems}

\index{TestEventViewSet (class in debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.TestEventViewSet}\pysiglinewithargsret{\strong{class }\code{debug.views.}\bfcode{TestEventViewSet}}{\emph{**kwargs}}{}
Bases: \code{rest\_framework.viewsets.ModelViewSet}
\index{queryset (debug.views.TestEventViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.TestEventViewSet.queryset}\pysigline{\bfcode{queryset}}
\end{fulllineitems}

\index{serializer\_class (debug.views.TestEventViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.TestEventViewSet.serializer_class}\pysigline{\bfcode{serializer\_class}}
alias of \code{TestEventSerializer}

\end{fulllineitems}


\end{fulllineitems}

\index{datadel() (in module debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.datadel}\pysiglinewithargsret{\code{debug.views.}\bfcode{datadel}}{\emph{request}}{}
DEPRECATED

See influxdel.

\end{fulllineitems}

\index{datagen() (in module debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.datagen}\pysiglinewithargsret{\code{debug.views.}\bfcode{datagen}}{\emph{request}}{}
DEPRECATED

See influxgen.

\end{fulllineitems}

\index{echo() (in module debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.echo}\pysiglinewithargsret{\code{debug.views.}\bfcode{echo}}{\emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{echo\_args() (in module debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.echo_args}\pysiglinewithargsret{\code{debug.views.}\bfcode{echo\_args}}{\emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{generate\_points() (in module debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.generate_points}\pysiglinewithargsret{\code{debug.views.}\bfcode{generate\_points}}{\emph{start}, \emph{stop}, \emph{resolution}, \emph{energy\_use}, \emph{device}, \emph{channels}}{}
Function to generate random points of data.

The goal of this function was to generate data that could maybe pass
as being semi-realistic. To do this, each circuit type has its own
profile with an average, minumum, maximum, and cutoff wattage.

These values are added/subtracted by a random number in a range
proportional to the maximum wattage for the circuit. This gives
a series that appears to be changing slowly over time.

This function works in much the same way as the save() function
for an {\hyperref[modules/microdata:microdata.models.Event]{\emph{\code{microdata.models.Event}}}}. It keeps track of the
cumulative KWh consumed and will advance the tier level if
the threshold is passed.

\end{fulllineitems}

\index{gitupdate() (in module debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.gitupdate}\pysiglinewithargsret{\code{debug.views.}\bfcode{gitupdate}}{\emph{*args}, \emph{**kwargs}}{}
DEPRECATED

This could be reinstated by changing the Git directory seen below.

\end{fulllineitems}

\index{influxdel() (in module debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.influxdel}\pysiglinewithargsret{\code{debug.views.}\bfcode{influxdel}}{\emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{influxgen() (in module debug.views)}

\begin{fulllineitems}
\phantomsection\label{modules/debug:debug.views.influxgen}\pysiglinewithargsret{\code{debug.views.}\bfcode{influxgen}}{\emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}



\subsection{Module contents}
\label{modules/debug:module-contents}\label{modules/debug:module-debug}\index{debug (module)}

\section{Farmer Application}
\label{modules/farmer:farmer-application}\label{modules/farmer::doc}
This barebones application was put in place to manage devices via the
REST API.

As it stands now, this application is responsible for maintaining the
settings of each device and serving the configurations via API calls.

A typical API call to get the settings of a device is as follows:

\begin{Verbatim}[commandchars=\\\{\}]
GET /api/settings\PYGZhy{}api/\PYGZob{}serial\PYGZcb{}/

RESPONSE

    \PYGZob{}
        \PYGZdq{}device\PYGZdq{}: 3,
        \PYGZdq{}device\PYGZus{}serial\PYGZdq{}: 3,
        \PYGZdq{}main\PYGZus{}channel\PYGZdq{}: 1,
        \PYGZdq{}transmission\PYGZus{}rate\PYGZus{}milliseconds\PYGZdq{}: 5000,
        \PYGZdq{}adc\PYGZus{}sample\PYGZus{}rate\PYGZdq{}: 7,
        \PYGZdq{}date\PYGZus{}now\PYGZdq{}: 1433354266811
    \PYGZcb{}
\end{Verbatim}

The SEAD Light takes advantage of some, but not all, of these fields:
\begin{itemize}
\item {} 
transmission\_rate\_milliseconds: The time between each packet transmit

\item {} 
adc\_sample\_rate: A binary-mapped value of choices.

\item {} 
date\_now: This is used by the SEAD Light to synchronize its RTC (Real Time Clock)

\end{itemize}


\subsection{Submodules}
\label{modules/farmer:submodules}

\subsection{farmer.admin module}
\label{modules/farmer:module-farmer.admin}\label{modules/farmer:farmer-admin-module}\index{farmer.admin (module)}\index{DeviceSettingsAdmin (class in farmer.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.admin.DeviceSettingsAdmin}\pysiglinewithargsret{\strong{class }\code{farmer.admin.}\bfcode{DeviceSettingsAdmin}}{\emph{model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.ModelAdmin}
\index{media (farmer.admin.DeviceSettingsAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.admin.DeviceSettingsAdmin.media}\pysigline{\bfcode{media}}
\end{fulllineitems}

\index{verbose\_name\_plural (farmer.admin.DeviceSettingsAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.admin.DeviceSettingsAdmin.verbose_name_plural}\pysigline{\bfcode{verbose\_name\_plural}\strong{ = `devicesettings'}}
\end{fulllineitems}


\end{fulllineitems}

\index{DeviceSettingsInline (class in farmer.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.admin.DeviceSettingsInline}\pysiglinewithargsret{\strong{class }\code{farmer.admin.}\bfcode{DeviceSettingsInline}}{\emph{parent\_model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.StackedInline}
\index{can\_delete (farmer.admin.DeviceSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.admin.DeviceSettingsInline.can_delete}\pysigline{\bfcode{can\_delete}\strong{ = False}}
\end{fulllineitems}

\index{media (farmer.admin.DeviceSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.admin.DeviceSettingsInline.media}\pysigline{\bfcode{media}}
\end{fulllineitems}

\index{model (farmer.admin.DeviceSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.admin.DeviceSettingsInline.model}\pysigline{\bfcode{model}}
alias of \code{DeviceSettings}

\end{fulllineitems}


\end{fulllineitems}



\subsection{farmer.models module}
\label{modules/farmer:module-farmer.models}\label{modules/farmer:farmer-models-module}\index{farmer.models (module)}\index{DeviceSettings (class in farmer.models)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings}\pysiglinewithargsret{\strong{class }\code{farmer.models.}\bfcode{DeviceSettings}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

Describes the settings associated with a device.

This is what is returned by a REST call to /api/settings-api/\{serial\}/.
\index{CHANNEL\_CHOICES (farmer.models.DeviceSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.CHANNEL_CHOICES}\pysigline{\bfcode{CHANNEL\_CHOICES}\strong{ = ((1, `Channel 1'), (2, `Channel 2'), (3, `Channel 3'), (4, `Channel 4'))}}
\end{fulllineitems}

\index{DeviceSettings.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{DeviceSettings.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.MultipleObjectsReturned}\pysigline{\strong{exception }\code{DeviceSettings.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{SAMPLE\_RATE\_CHOICES (farmer.models.DeviceSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.SAMPLE_RATE_CHOICES}\pysigline{\code{DeviceSettings.}\bfcode{SAMPLE\_RATE\_CHOICES}\strong{ = ((0, 125000), (1, 62500), (2, 31250), (3, 15625), (4, 7812.5), (5, 3906.25), (6, 1953.125), (7, 976.5625))}}
\end{fulllineitems}

\index{adc\_sample\_rate (farmer.models.DeviceSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.adc_sample_rate}\pysigline{\code{DeviceSettings.}\bfcode{adc\_sample\_rate}\strong{ = None}}
The sample rates that can be chosen from the admin interface

\end{fulllineitems}

\index{date\_now (farmer.models.DeviceSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.date_now}\pysigline{\code{DeviceSettings.}\bfcode{date\_now}\strong{ = None}}
Used by the SEAD Light to synchronize its RTC.

\end{fulllineitems}

\index{device (farmer.models.DeviceSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.device}\pysigline{\code{DeviceSettings.}\bfcode{device}}
Relational field to connect the settings to a device.

\end{fulllineitems}

\index{device\_serial (farmer.models.DeviceSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.device_serial}\pysigline{\code{DeviceSettings.}\bfcode{device\_serial}\strong{ = None}}
The serial of the device this model is linked to.

\end{fulllineitems}

\index{get\_adc\_sample\_rate\_display() (farmer.models.DeviceSettings method)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.get_adc_sample_rate_display}\pysiglinewithargsret{\code{DeviceSettings.}\bfcode{get\_adc\_sample\_rate\_display}}{\emph{*moreargs}, \emph{**morekwargs}}{}
\end{fulllineitems}

\index{get\_main\_channel\_display() (farmer.models.DeviceSettings method)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.get_main_channel_display}\pysiglinewithargsret{\code{DeviceSettings.}\bfcode{get\_main\_channel\_display}}{\emph{*moreargs}, \emph{**morekwargs}}{}
\end{fulllineitems}

\index{main\_channel (farmer.models.DeviceSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.main_channel}\pysigline{\code{DeviceSettings.}\bfcode{main\_channel}\strong{ = None}}
Not currently in use. The idea here was to have the device multiplex
its channels if it were only able to transmit one at a time. The SEAD
Light is capable of transmitting on all channels.

\end{fulllineitems}

\index{objects (farmer.models.DeviceSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.objects}\pysigline{\code{DeviceSettings.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{save() (farmer.models.DeviceSettings method)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.save}\pysiglinewithargsret{\code{DeviceSettings.}\bfcode{save}}{\emph{**kwargs}}{}
\end{fulllineitems}

\index{transmission\_rate\_milliseconds (farmer.models.DeviceSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.models.DeviceSettings.transmission_rate_milliseconds}\pysigline{\code{DeviceSettings.}\bfcode{transmission\_rate\_milliseconds}\strong{ = None}}
The period of time in milliseconds before packet transmission

\end{fulllineitems}


\end{fulllineitems}



\subsection{farmer.serializers module}
\label{modules/farmer:module-farmer.serializers}\label{modules/farmer:farmer-serializers-module}\index{farmer.serializers (module)}\index{DeviceSettingsSerializer (class in farmer.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.serializers.DeviceSettingsSerializer}\pysiglinewithargsret{\strong{class }\code{farmer.serializers.}\bfcode{DeviceSettingsSerializer}}{\emph{instance=None}, \emph{data=\textless{}class rest\_framework.fields.empty\textgreater{}}, \emph{**kwargs}}{}
Bases: \code{rest\_framework.serializers.ModelSerializer}
\index{DeviceSettingsSerializer.Meta (class in farmer.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.serializers.DeviceSettingsSerializer.Meta}\pysigline{\strong{class }\bfcode{Meta}}~\index{fields (farmer.serializers.DeviceSettingsSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.serializers.DeviceSettingsSerializer.Meta.fields}\pysigline{\bfcode{fields}\strong{ = (`device', `device\_serial', `main\_channel', `transmission\_rate\_milliseconds', `adc\_sample\_rate', `date\_now')}}
\end{fulllineitems}

\index{model (farmer.serializers.DeviceSettingsSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.serializers.DeviceSettingsSerializer.Meta.model}\pysigline{\bfcode{model}}
alias of \code{DeviceSettings}

\end{fulllineitems}


\end{fulllineitems}


\end{fulllineitems}



\subsection{farmer.tests module}
\label{modules/farmer:farmer-tests-module}\label{modules/farmer:module-farmer.tests}\index{farmer.tests (module)}

\subsection{farmer.views module}
\label{modules/farmer:farmer-views-module}\label{modules/farmer:module-farmer.views}\index{farmer.views (module)}\index{DeviceSettingsViewSet (class in farmer.views)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.views.DeviceSettingsViewSet}\pysiglinewithargsret{\strong{class }\code{farmer.views.}\bfcode{DeviceSettingsViewSet}}{\emph{**kwargs}}{}
Bases: \code{rest\_framework.viewsets.ModelViewSet}

API endpoint that allows devicesettings to be viewed or edited.
\index{list() (farmer.views.DeviceSettingsViewSet method)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.views.DeviceSettingsViewSet.list}\pysiglinewithargsret{\bfcode{list}}{\emph{request}}{}
\end{fulllineitems}

\index{queryset (farmer.views.DeviceSettingsViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.views.DeviceSettingsViewSet.queryset}\pysigline{\bfcode{queryset}}
\end{fulllineitems}

\index{retrieve() (farmer.views.DeviceSettingsViewSet method)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.views.DeviceSettingsViewSet.retrieve}\pysiglinewithargsret{\bfcode{retrieve}}{\emph{request}, \emph{pk=None}}{}
\end{fulllineitems}

\index{serializer\_class (farmer.views.DeviceSettingsViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/farmer:farmer.views.DeviceSettingsViewSet.serializer_class}\pysigline{\bfcode{serializer\_class}}
alias of \code{DeviceSettingsSerializer}

\end{fulllineitems}


\end{fulllineitems}



\subsection{Module contents}
\label{modules/farmer:module-contents}\label{modules/farmer:module-farmer}\index{farmer (module)}

\section{Home Application}
\label{modules/home:home-application}\label{modules/home::doc}
This simple application handles logins and logouts as well as new
user registration. This application should probably be rolled in with
webapp for the sake of portability.


\subsection{Subpackages}
\label{modules/home:subpackages}

\subsection{Submodules}
\label{modules/home:submodules}

\subsection{home.admin module}
\label{modules/home:home-admin-module}\label{modules/home:module-home.admin}\index{home.admin (module)}

\subsection{home.models module}
\label{modules/home:module-home.models}\label{modules/home:home-models-module}\index{home.models (module)}

\subsection{home.serializers module}
\label{modules/home:home-serializers-module}\label{modules/home:module-home.serializers}\index{home.serializers (module)}\index{UserSerializer (class in home.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.serializers.UserSerializer}\pysiglinewithargsret{\strong{class }\code{home.serializers.}\bfcode{UserSerializer}}{\emph{instance=None}, \emph{data=\textless{}class rest\_framework.fields.empty\textgreater{}}, \emph{**kwargs}}{}
Bases: \code{rest\_framework.serializers.HyperlinkedModelSerializer}
\index{UserSerializer.Meta (class in home.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.serializers.UserSerializer.Meta}\pysigline{\strong{class }\bfcode{Meta}}~\index{fields (home.serializers.UserSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.serializers.UserSerializer.Meta.fields}\pysigline{\bfcode{fields}\strong{ = (`url', `username', `email', `is\_staff')}}
\end{fulllineitems}

\index{model (home.serializers.UserSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.serializers.UserSerializer.Meta.model}\pysigline{\bfcode{model}}
alias of \code{User}

\end{fulllineitems}


\end{fulllineitems}


\end{fulllineitems}



\subsection{home.tests module}
\label{modules/home:module-home.tests}\label{modules/home:home-tests-module}\index{home.tests (module)}

\subsection{home.views module}
\label{modules/home:home-views-module}\label{modules/home:module-home.views}\index{home.views (module)}\index{UserViewSet (class in home.views)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.views.UserViewSet}\pysiglinewithargsret{\strong{class }\code{home.views.}\bfcode{UserViewSet}}{\emph{**kwargs}}{}
Bases: \code{rest\_framework.viewsets.ModelViewSet}
\index{queryset (home.views.UserViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.views.UserViewSet.queryset}\pysigline{\bfcode{queryset}}
\end{fulllineitems}

\index{serializer\_class (home.views.UserViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.views.UserViewSet.serializer_class}\pysigline{\bfcode{serializer\_class}}
alias of \code{UserSerializer}

\end{fulllineitems}


\end{fulllineitems}

\index{account() (in module home.views)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.views.account}\pysiglinewithargsret{\code{home.views.}\bfcode{account}}{\emph{request}}{}
A view that returns the account page of the requesting user. This
is barebones, but could be expanded to provide the user with
information on their own account. This is not the settings page.

\textbf{Templates:}
\begin{quote}

\emph{base/account.html}
\end{quote}

\end{fulllineitems}

\index{index() (in module home.views)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.views.index}\pysiglinewithargsret{\code{home.views.}\bfcode{index}}{\emph{request}}{}
\end{fulllineitems}

\index{register() (in module home.views)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.views.register}\pysiglinewithargsret{\code{home.views.}\bfcode{register}}{\emph{request}}{}
A view that renders the register page for new users. This can only
be access by users that are not currently signed in.

\textbf{Context}
\begin{quote}

\code{form}
\begin{quote}

Registration form for new users
\end{quote}
\end{quote}

\textbf{Templates:}
\begin{quote}

\emph{base/register.html}
\end{quote}

\end{fulllineitems}

\index{signin() (in module home.views)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.views.signin}\pysiglinewithargsret{\code{home.views.}\bfcode{signin}}{\emph{request}}{}
A view that renders the sign-in page for existing users. All
verification is done on the server side.

\textbf{Context}
\begin{quote}

\code{form}
\begin{quote}

Sign-in form for existing users
\end{quote}
\end{quote}

\textbf{Templates:}
\begin{quote}

\emph{base/signin.html}
\end{quote}

\end{fulllineitems}

\index{signout() (in module home.views)}

\begin{fulllineitems}
\phantomsection\label{modules/home:home.views.signout}\pysiglinewithargsret{\code{home.views.}\bfcode{signout}}{\emph{request}}{}
\end{fulllineitems}



\subsection{Module contents}
\label{modules/home:module-contents}\label{modules/home:module-home}\index{home (module)}

\section{manage module}
\label{modules/manage:manage-module}\label{modules/manage::doc}\label{modules/manage:module-manage}\index{manage (module)}

\section{Microdata Application}
\label{modules/microdata:microdata-application}\label{modules/microdata::doc}
This application is the direct interface between devices and the InfluxDB database. It is responsible for exposing the REST API endpoints.

A {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} is what links to a SEAD Light out in the world. When a new SEAD connects to the system, it will check to see
if it has been registered on the system by querying \emph{/api/device-api/\{serial\}/}. If the response is 404, the device will then register
on the system as new with no owner. It is then the user's responsibility to pair the device via the web application in order to access
the data.

Refer to the {\hyperref[getting-started:getting-started]{\emph{\DUspan{}{Getting Started}}}} guide for more information on interfacing the devices with the server.


\subsection{Subpackages}
\label{modules/microdata:subpackages}

\subsubsection{microdata.management package}
\label{modules/microdata.management:microdata-management-package}\label{modules/microdata.management::doc}

\paragraph{Subpackages}
\label{modules/microdata.management:subpackages}

\subparagraph{microdata.management.commands package}
\label{modules/microdata.management.commands::doc}\label{modules/microdata.management.commands:microdata-management-commands-package}

\subparagraph{Submodules}
\label{modules/microdata.management.commands:submodules}

\subparagraph{microdata.management.commands.archive\_database module}
\label{modules/microdata.management.commands:microdata-management-commands-archive-database-module}\label{modules/microdata.management.commands:module-microdata.management.commands.archive_database}\index{microdata.management.commands.archive\_database (module)}\index{Command (class in microdata.management.commands.archive\_database)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata.management.commands:microdata.management.commands.archive_database.Command}\pysigline{\strong{class }\code{microdata.management.commands.archive\_database.}\bfcode{Command}}
Bases: \code{django.core.management.base.BaseCommand}
\index{args (microdata.management.commands.archive\_database.Command attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata.management.commands:microdata.management.commands.archive_database.Command.args}\pysigline{\bfcode{args}\strong{ = `'}}
\end{fulllineitems}

\index{handle() (microdata.management.commands.archive\_database.Command method)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata.management.commands:microdata.management.commands.archive_database.Command.handle}\pysiglinewithargsret{\bfcode{handle}}{\emph{*args}, \emph{**options}}{}
\end{fulllineitems}

\index{help (microdata.management.commands.archive\_database.Command attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata.management.commands:microdata.management.commands.archive_database.Command.help}\pysigline{\bfcode{help}\strong{ = `Backs up the data for each device relative to its retention policy.'}}
\end{fulllineitems}


\end{fulllineitems}

\index{safe\_list\_get() (in module microdata.management.commands.archive\_database)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata.management.commands:microdata.management.commands.archive_database.safe_list_get}\pysiglinewithargsret{\code{microdata.management.commands.archive\_database.}\bfcode{safe\_list\_get}}{\emph{l}, \emph{idx}, \emph{default}}{}
\end{fulllineitems}



\subparagraph{microdata.management.commands.check\_glacier\_jobs module}
\label{modules/microdata.management.commands:microdata-management-commands-check-glacier-jobs-module}\label{modules/microdata.management.commands:module-microdata.management.commands.check_glacier_jobs}\index{microdata.management.commands.check\_glacier\_jobs (module)}\index{Command (class in microdata.management.commands.check\_glacier\_jobs)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata.management.commands:microdata.management.commands.check_glacier_jobs.Command}\pysigline{\strong{class }\code{microdata.management.commands.check\_glacier\_jobs.}\bfcode{Command}}
Bases: \code{django.core.management.base.BaseCommand}
\index{handle() (microdata.management.commands.check\_glacier\_jobs.Command method)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata.management.commands:microdata.management.commands.check_glacier_jobs.Command.handle}\pysiglinewithargsret{\bfcode{handle}}{\emph{*args}, \emph{**options}}{}
\end{fulllineitems}


\end{fulllineitems}



\subparagraph{Module contents}
\label{modules/microdata.management.commands:module-microdata.management.commands}\label{modules/microdata.management.commands:module-contents}\index{microdata.management.commands (module)}

\paragraph{Module contents}
\label{modules/microdata.management:module-contents}\label{modules/microdata.management:module-microdata.management}\index{microdata.management (module)}

\subsection{Submodules}
\label{modules/microdata:submodules}

\subsection{microdata.admin module}
\label{modules/microdata:microdata-admin-module}
Models registered to the administrative interface are listed below. These are the interfaces provided to an administrator that may have control over the system for a group of users.
\phantomsection\label{modules/microdata:module-microdata.admin}\index{microdata.admin (module)}\index{ApplianceAdmin (class in microdata.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.ApplianceAdmin}\pysiglinewithargsret{\strong{class }\code{microdata.admin.}\bfcode{ApplianceAdmin}}{\emph{model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.ModelAdmin}

Class that allows administrator access to the Appliance models.

This class was included to give the administartor the ability to add new appliances
as the algorithms detect them. This is exposed so that an administrator can extend
the functionality of the Appliances without having to touch the source code.
\index{list\_display (microdata.admin.ApplianceAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.ApplianceAdmin.list_display}\pysigline{\bfcode{list\_display}\strong{ = (`name', `pk', `serial', `chart\_color')}}
\end{fulllineitems}

\index{media (microdata.admin.ApplianceAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.ApplianceAdmin.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}

\index{CircuitAdmin (class in microdata.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.CircuitAdmin}\pysiglinewithargsret{\strong{class }\code{microdata.admin.}\bfcode{CircuitAdmin}}{\emph{model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.ModelAdmin}
\index{list\_display (microdata.admin.CircuitAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.CircuitAdmin.list_display}\pysigline{\bfcode{list\_display}\strong{ = (`name', `circuittype', `pk')}}
\end{fulllineitems}

\index{media (microdata.admin.CircuitAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.CircuitAdmin.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}

\index{CircuitTypeAdmin (class in microdata.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.CircuitTypeAdmin}\pysiglinewithargsret{\strong{class }\code{microdata.admin.}\bfcode{CircuitTypeAdmin}}{\emph{model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.ModelAdmin}
\index{list\_display (microdata.admin.CircuitTypeAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.CircuitTypeAdmin.list_display}\pysigline{\bfcode{list\_display}\strong{ = (`name', `pk')}}
\end{fulllineitems}

\index{media (microdata.admin.CircuitTypeAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.CircuitTypeAdmin.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}

\index{DeviceAdmin (class in microdata.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceAdmin}\pysiglinewithargsret{\strong{class }\code{microdata.admin.}\bfcode{DeviceAdmin}}{\emph{model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.ModelAdmin}

This class gives an administrator direct access to the device model.

Most of the fields of the device model can be modified through the custom settings interface
on the web application, but this interface gives the administrator direct control.
\index{inlines (microdata.admin.DeviceAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceAdmin.inlines}\pysigline{\bfcode{inlines}\strong{ = (\textless{}class `microdata.admin.DeviceWebSettingsInline'\textgreater{}, \textless{}class `farmer.admin.DeviceSettingsInline'\textgreater{})}}
\end{fulllineitems}

\index{list\_display (microdata.admin.DeviceAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceAdmin.list_display}\pysigline{\bfcode{list\_display}\strong{ = (`name', `owner', `serial', `position', `secret\_key', `registered', `fanout\_query\_registered')}}
\end{fulllineitems}

\index{media (microdata.admin.DeviceAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceAdmin.media}\pysigline{\bfcode{media}}
\end{fulllineitems}

\index{readonly\_fields (microdata.admin.DeviceAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceAdmin.readonly_fields}\pysigline{\bfcode{readonly\_fields}\strong{ = (`secret\_key',)}}
\end{fulllineitems}

\index{search\_fields (microdata.admin.DeviceAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceAdmin.search_fields}\pysigline{\bfcode{search\_fields}\strong{ = (`name', `serial')}}
\end{fulllineitems}


\end{fulllineitems}

\index{DeviceWebSettingsInline (class in microdata.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceWebSettingsInline}\pysiglinewithargsret{\strong{class }\code{microdata.admin.}\bfcode{DeviceWebSettingsInline}}{\emph{parent\_model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.StackedInline}
\index{can\_delete (microdata.admin.DeviceWebSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceWebSettingsInline.can_delete}\pysigline{\bfcode{can\_delete}\strong{ = False}}
\end{fulllineitems}

\index{media (microdata.admin.DeviceWebSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceWebSettingsInline.media}\pysigline{\bfcode{media}}
\end{fulllineitems}

\index{model (microdata.admin.DeviceWebSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceWebSettingsInline.model}\pysigline{\bfcode{model}}
alias of \code{DeviceWebSettings}

\end{fulllineitems}

\index{verbose\_name\_plural (microdata.admin.DeviceWebSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.admin.DeviceWebSettingsInline.verbose_name_plural}\pysigline{\bfcode{verbose\_name\_plural}\strong{ = `devicesettings'}}
\end{fulllineitems}


\end{fulllineitems}



\subsection{microdata.models module}
\label{modules/microdata:microdata-models-module}\phantomsection\label{modules/microdata:module-microdata.models}\index{microdata.models (module)}\index{Appliance (class in microdata.models)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Appliance}\pysiglinewithargsret{\strong{class }\code{microdata.models.}\bfcode{Appliance}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

Describes a single Appliance. In the future, this model will have describing attributes that give the user helpful information when visualizing.
\index{Appliance.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Appliance.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{Appliance.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Appliance.MultipleObjectsReturned}\pysigline{\strong{exception }\code{Appliance.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{chart\_color (microdata.models.Appliance attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Appliance.chart_color}\pysigline{\code{Appliance.}\bfcode{chart\_color}\strong{ = None}}
This field defines what color the chart will assign the appliance when it is being displayed. Modifiable via the admin interface.

\end{fulllineitems}

\index{circuittype\_set (microdata.models.Appliance attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Appliance.circuittype_set}\pysigline{\code{Appliance.}\bfcode{circuittype\_set}}
\end{fulllineitems}

\index{eventnotification\_set (microdata.models.Appliance attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Appliance.eventnotification_set}\pysigline{\code{Appliance.}\bfcode{eventnotification\_set}}
\end{fulllineitems}

\index{objects (microdata.models.Appliance attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Appliance.objects}\pysigline{\code{Appliance.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}


\end{fulllineitems}

\index{Circuit (class in microdata.models)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Circuit}\pysiglinewithargsret{\strong{class }\code{microdata.models.}\bfcode{Circuit}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

Most likely deprecated.
\index{Circuit.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Circuit.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{Circuit.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Circuit.MultipleObjectsReturned}\pysigline{\strong{exception }\code{Circuit.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{circuittype (microdata.models.Circuit attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Circuit.circuittype}\pysigline{\code{Circuit.}\bfcode{circuittype}}
\end{fulllineitems}

\index{objects (microdata.models.Circuit attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Circuit.objects}\pysigline{\code{Circuit.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}


\end{fulllineitems}

\index{CircuitType (class in microdata.models)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.CircuitType}\pysiglinewithargsret{\strong{class }\code{microdata.models.}\bfcode{CircuitType}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

Describes a Circuit Type. A Circuit Type is related to a list of {\hyperref[modules/microdata:microdata.models.Appliance]{\emph{\code{microdata.models.Appliance}}}} and acts as a set of objects to discover within a circuit.
\index{CircuitType.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.CircuitType.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{CircuitType.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.CircuitType.MultipleObjectsReturned}\pysigline{\strong{exception }\code{CircuitType.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{appliances (microdata.models.CircuitType attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.CircuitType.appliances}\pysigline{\code{CircuitType.}\bfcode{appliances}}
\end{fulllineitems}

\index{chart\_color (microdata.models.CircuitType attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.CircuitType.chart_color}\pysigline{\code{CircuitType.}\bfcode{chart\_color}\strong{ = None}}
This field defines what color the chart will assign the circuit when it is being displayed. Modifiable via the admin interface.

\end{fulllineitems}

\index{circuit\_set (microdata.models.CircuitType attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.CircuitType.circuit_set}\pysigline{\code{CircuitType.}\bfcode{circuit\_set}}
\end{fulllineitems}

\index{objects (microdata.models.CircuitType attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.CircuitType.objects}\pysigline{\code{CircuitType.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}


\end{fulllineitems}

\index{Device (class in microdata.models)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device}\pysiglinewithargsret{\strong{class }\code{microdata.models.}\bfcode{Device}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

Describes a single Device owned by \code{settings.AUTH\_USER\_MODEL}.
\index{Device.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{Device.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.MultipleObjectsReturned}\pysigline{\strong{exception }\code{Device.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{channel\_1 (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.channel_1}\pysigline{\code{Device.}\bfcode{channel\_1}}
The first of three channels of the SEAD Light. This is a design flaw and should be instead a ManyToManyField.

\end{fulllineitems}

\index{channel\_2 (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.channel_2}\pysigline{\code{Device.}\bfcode{channel\_2}}
The second of three channels of the SEAD Light. This is a design flaw and should be instead a ManyToManyField.

\end{fulllineitems}

\index{channel\_3 (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.channel_3}\pysigline{\code{Device.}\bfcode{channel\_3}}
The third of three channels of the SEAD Light. This is a design flaw and should be instead a ManyToManyField.

\end{fulllineitems}

\index{cost\_daily (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.cost_daily}\pysigline{\code{Device.}\bfcode{cost\_daily}\strong{ = None}}
The total cost calculated by the server today. Much cheaper to keep this in the django database than the InfluxDB.

\end{fulllineitems}

\index{data\_retention\_policy (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.data_retention_policy}\pysigline{\code{Device.}\bfcode{data\_retention\_policy}\strong{ = None}}
The amount of time the data from this device can live in the database. Anything older will be archived to Amazon Glacier.

\end{fulllineitems}

\index{delete() (microdata.models.Device method)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.delete}\pysiglinewithargsret{\code{Device.}\bfcode{delete}}{\emph{*args}, \emph{**kwargs}}{}
Custom delete method.

Drop the series from the influxdb database.

\end{fulllineitems}

\index{devicesettings (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.devicesettings}\pysigline{\code{Device.}\bfcode{devicesettings}}
\end{fulllineitems}

\index{devicewebsettings (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.devicewebsettings}\pysigline{\code{Device.}\bfcode{devicewebsettings}}
\end{fulllineitems}

\index{event\_set (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.event_set}\pysigline{\code{Device.}\bfcode{event\_set}}
\end{fulllineitems}

\index{fanout\_query\_registered (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.fanout_query_registered}\pysigline{\code{Device.}\bfcode{fanout\_query\_registered}\strong{ = None}}
A true/false that is set when a device is created indicating the continuous queries in the database have been registered.

\end{fulllineitems}

\index{ip\_address (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.ip_address}\pysigline{\code{Device.}\bfcode{ip\_address}\strong{ = None}}
This field is no longer actively used. This was a proof of concept for early device communication. Deprecated.

\end{fulllineitems}

\index{kilowatt\_hours\_daily (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.kilowatt_hours_daily}\pysigline{\code{Device.}\bfcode{kilowatt\_hours\_daily}\strong{ = None}}
A counter that is reset by a cron job once a day that keeps an accumulation of the total kwh this device has measured over the course of a day.

\end{fulllineitems}

\index{kilowatt\_hours\_monthly (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.kilowatt_hours_monthly}\pysigline{\code{Device.}\bfcode{kilowatt\_hours\_monthly}\strong{ = None}}
A counter that is reset by a cron job once a month that keeps an accumulation of the total kwh this device has measured over the course of a month.

\end{fulllineitems}

\index{name (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.name}\pysigline{\code{Device.}\bfcode{name}\strong{ = None}}
A non-unique name field for a device. This field is solely for user experience, it has no functional purpose.

\end{fulllineitems}

\index{objects (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.objects}\pysigline{\code{Device.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{owner (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.owner}\pysigline{\code{Device.}\bfcode{owner}}
A Foreign key relation. We use this relation to pair a device to a user on the web application.

\end{fulllineitems}

\index{registered (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.registered}\pysigline{\code{Device.}\bfcode{registered}\strong{ = None}}
Synonym for paired. This protects againts users trying to pair an already paired device.

\end{fulllineitems}

\index{save() (microdata.models.Device method)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.save}\pysiglinewithargsret{\code{Device.}\bfcode{save}}{\emph{**kwargs}}{}
Custom save method.

This function will do several things if it has not done so already:
\begin{itemize}
\item {} 
Create a secret key. 3 digits followed by 4 letters. Not currently in use (could be used for pairing devices)

\item {} 
Register fanout queries in database.

\item {} 
Device name cannot be None, default is ``Device \textless{}serial\textgreater{}''.

\item {} 
Create a {\hyperref[modules/farmer:farmer.models.DeviceSettings]{\emph{\code{farmer.models.DeviceSettings}}}} object.

\item {} 
Create a {\hyperref[modules/webapp:webapp.models.DeviceWebSettings]{\emph{\code{webapp.models.DeviceWebSettings}}}} object.

\item {} 
Give default values to the channels.

\end{itemize}

\end{fulllineitems}

\index{secret\_key (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.secret_key}\pysigline{\code{Device.}\bfcode{secret\_key}\strong{ = None}}
This field is not currently in use, but the functionality exists. This field was intended to be used to pair a device to a user.

\end{fulllineitems}

\index{serial (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.serial}\pysigline{\code{Device.}\bfcode{serial}\strong{ = None}}
The primary key of the model. This is what the device uses to interface to the API and how users currently pair a device.

\end{fulllineitems}

\index{share\_with (microdata.models.Device attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Device.share_with}\pysigline{\code{Device.}\bfcode{share\_with}}
This field acts much like an owner, however share\_with users cannot alter device settings.

\end{fulllineitems}


\end{fulllineitems}

\index{Event (class in microdata.models)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Event}\pysiglinewithargsret{\strong{class }\code{microdata.models.}\bfcode{Event}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

Generic class to catch the Event REST Packets from devices. Relates to a {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}}.

These models are not stored on the Django database since they are converted to InfluxDB.
\index{Event.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Event.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{Event.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Event.MultipleObjectsReturned}\pysigline{\strong{exception }\code{Event.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{dataPoints (microdata.models.Event attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Event.dataPoints}\pysigline{\code{Event.}\bfcode{dataPoints}\strong{ = None}}
An array of undefined size containing measured values for the server. The data points are numbered \emph{0 ... n ... j} where nth data point has a timestamp of \emph{start\_time + n * period} and \emph{j} is undefined.

\end{fulllineitems}

\index{device (microdata.models.Event attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Event.device}\pysigline{\code{Event.}\bfcode{device}}
This is the relation between the device and its data. This is established when the device specifies its hyperlinked model via the REST call.

\end{fulllineitems}

\index{frequency (microdata.models.Event attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Event.frequency}\pysigline{\code{Event.}\bfcode{frequency}\strong{ = None}}
The frequency, in Hertz, of the packet's data points. Used to calculate the offset of all points.

\end{fulllineitems}

\index{objects (microdata.models.Event attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Event.objects}\pysigline{\code{Event.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{query (microdata.models.Event attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Event.query}\pysigline{\code{Event.}\bfcode{query}\strong{ = None}}
Deprecated. This field is useful for debugging the REST requests, but since the model is not saved, this is a volatile field.

\end{fulllineitems}

\index{save() (microdata.models.Event method)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Event.save}\pysiglinewithargsret{\code{Event.}\bfcode{save}}{\emph{**kwargs}}{}
Custom save method.

This method is the powerhouse of the API. It can take an array of data points from a device and convert them into database entries in InfluxDB.

The method will also keep a running count of how many kwh have been consumed this day and this month. If it exceeds the allotted kwh for
the device's tier, advance the tier a level.

If the data coming in is sufficiently in the past such that the database will not calculate its mean value, refresh the query
to trigger a backfill of the data.

When a model is being saved, it has already been created by {\hyperref[modules/microdata:microdata.views.EventViewSet]{\emph{\code{microdata.views.EventViewSet}}}}.

The Event is parsed as follows:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n}{start} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{start}
\PYG{n}{frequency} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{frequency}
\PYG{n}{count} \PYG{o}{=} \PYG{l+m+mi}{0}

\PYG{k}{for} \PYG{n}{point} \PYG{o+ow}{in} \PYG{n}{dataPoints}\PYG{p}{:}
   \PYG{n}{time} \PYG{o}{=} \PYG{n}{start} \PYG{o}{+} \PYG{n}{count} \PYG{o}{*} \PYG{p}{(}\PYG{l+m+mi}{1}\PYG{o}{/}\PYG{n}{frequency}\PYG{p}{)}
   \PYG{n}{db}\PYG{o}{.}\PYG{n}{write\PYGZus{}points}\PYG{p}{(}\PYG{n}{time}\PYG{p}{,} \PYG{n}{wattage}\PYG{p}{)}
\end{Verbatim}

\end{fulllineitems}

\index{start (microdata.models.Event attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.models.Event.start}\pysigline{\code{Event.}\bfcode{start}\strong{ = None}}
The start time, in milliseconds, of the first data point in the packet. Used to calculate offset of all proceeding points.

\end{fulllineitems}


\end{fulllineitems}



\subsection{microdata.serializers module}
\label{modules/microdata:microdata-serializers-module}\label{modules/microdata:module-microdata.serializers}\index{microdata.serializers (module)}\index{ApplianceSerializer (class in microdata.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.ApplianceSerializer}\pysiglinewithargsret{\strong{class }\code{microdata.serializers.}\bfcode{ApplianceSerializer}}{\emph{instance=None}, \emph{data=\textless{}class rest\_framework.fields.empty\textgreater{}}, \emph{**kwargs}}{}
Bases: \code{rest\_framework.serializers.HyperlinkedModelSerializer}
\index{ApplianceSerializer.Meta (class in microdata.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.ApplianceSerializer.Meta}\pysigline{\strong{class }\bfcode{Meta}}~\index{fields (microdata.serializers.ApplianceSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.ApplianceSerializer.Meta.fields}\pysigline{\bfcode{fields}\strong{ = (`name', `serial', `chart\_color')}}
\end{fulllineitems}

\index{model (microdata.serializers.ApplianceSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.ApplianceSerializer.Meta.model}\pysigline{\bfcode{model}}
alias of \code{Appliance}

\end{fulllineitems}


\end{fulllineitems}


\end{fulllineitems}

\index{CircuitSerializer (class in microdata.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.CircuitSerializer}\pysiglinewithargsret{\strong{class }\code{microdata.serializers.}\bfcode{CircuitSerializer}}{\emph{instance=None}, \emph{data=\textless{}class rest\_framework.fields.empty\textgreater{}}, \emph{**kwargs}}{}
Bases: \code{rest\_framework.serializers.HyperlinkedModelSerializer}
\index{CircuitSerializer.Meta (class in microdata.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.CircuitSerializer.Meta}\pysigline{\strong{class }\bfcode{Meta}}~\index{fields (microdata.serializers.CircuitSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.CircuitSerializer.Meta.fields}\pysigline{\bfcode{fields}\strong{ = (`name', `appliances', `chart\_color', `pk')}}
\end{fulllineitems}

\index{model (microdata.serializers.CircuitSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.CircuitSerializer.Meta.model}\pysigline{\bfcode{model}}
alias of \code{CircuitType}

\end{fulllineitems}


\end{fulllineitems}


\end{fulllineitems}

\index{DeviceSerializer (class in microdata.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.DeviceSerializer}\pysiglinewithargsret{\strong{class }\code{microdata.serializers.}\bfcode{DeviceSerializer}}{\emph{instance=None}, \emph{data=\textless{}class rest\_framework.fields.empty\textgreater{}}, \emph{**kwargs}}{}
Bases: \code{rest\_framework.serializers.HyperlinkedModelSerializer}
\index{DeviceSerializer.Meta (class in microdata.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.DeviceSerializer.Meta}\pysigline{\strong{class }\bfcode{Meta}}~\index{fields (microdata.serializers.DeviceSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.DeviceSerializer.Meta.fields}\pysigline{\bfcode{fields}\strong{ = (`owner', `ip\_address', `secret\_key', `serial', `name', `registered', `fanout\_query\_registered', `channel\_1', `channel\_2', `channel\_3', `data\_retention\_policy', `kilowatt\_hours\_monthly', `kilowatt\_hours\_daily')}}
\end{fulllineitems}

\index{model (microdata.serializers.DeviceSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.DeviceSerializer.Meta.model}\pysigline{\bfcode{model}}
alias of \code{Device}

\end{fulllineitems}


\end{fulllineitems}


\end{fulllineitems}

\index{EventSerializer (class in microdata.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.EventSerializer}\pysiglinewithargsret{\strong{class }\code{microdata.serializers.}\bfcode{EventSerializer}}{\emph{instance=None}, \emph{data=\textless{}class rest\_framework.fields.empty\textgreater{}}, \emph{**kwargs}}{}
Bases: \code{rest\_framework.serializers.HyperlinkedModelSerializer}
\index{EventSerializer.Meta (class in microdata.serializers)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.EventSerializer.Meta}\pysigline{\strong{class }\bfcode{Meta}}~\index{fields (microdata.serializers.EventSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.EventSerializer.Meta.fields}\pysigline{\bfcode{fields}\strong{ = (`device', `dataPoints')}}
\end{fulllineitems}

\index{model (microdata.serializers.EventSerializer.Meta attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.serializers.EventSerializer.Meta.model}\pysigline{\bfcode{model}}
alias of \code{Event}

\end{fulllineitems}


\end{fulllineitems}


\end{fulllineitems}



\subsection{microdata.tests module}
\label{modules/microdata:microdata-tests-module}\label{modules/microdata:module-microdata.tests}\index{microdata.tests (module)}

\subsection{microdata.views module}
\label{modules/microdata:microdata-views-module}\label{modules/microdata:module-microdata.views}\index{microdata.views (module)}\index{ApplianceViewSet (class in microdata.views)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.ApplianceViewSet}\pysiglinewithargsret{\strong{class }\code{microdata.views.}\bfcode{ApplianceViewSet}}{\emph{**kwargs}}{}
Bases: \code{rest\_framework.viewsets.ModelViewSet}

API endpoint that allows appliances to be viewed or edited.
\index{queryset (microdata.views.ApplianceViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.ApplianceViewSet.queryset}\pysigline{\bfcode{queryset}}
\end{fulllineitems}

\index{serializer\_class (microdata.views.ApplianceViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.ApplianceViewSet.serializer_class}\pysigline{\bfcode{serializer\_class}}
alias of \code{ApplianceSerializer}

\end{fulllineitems}


\end{fulllineitems}

\index{CircuitViewSet (class in microdata.views)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.CircuitViewSet}\pysiglinewithargsret{\strong{class }\code{microdata.views.}\bfcode{CircuitViewSet}}{\emph{**kwargs}}{}
Bases: \code{rest\_framework.viewsets.ModelViewSet}

API endpoint that allows circuits to be viewed or edited.
\index{queryset (microdata.views.CircuitViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.CircuitViewSet.queryset}\pysigline{\bfcode{queryset}}
\end{fulllineitems}

\index{serializer\_class (microdata.views.CircuitViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.CircuitViewSet.serializer_class}\pysigline{\bfcode{serializer\_class}}
alias of \code{CircuitSerializer}

\end{fulllineitems}


\end{fulllineitems}

\index{DeviceViewSet (class in microdata.views)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.DeviceViewSet}\pysiglinewithargsret{\strong{class }\code{microdata.views.}\bfcode{DeviceViewSet}}{\emph{**kwargs}}{}
Bases: \code{rest\_framework.viewsets.ModelViewSet}

API endpoint that allows devices to be viewed or edited.
\index{create() (microdata.views.DeviceViewSet method)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.DeviceViewSet.create}\pysiglinewithargsret{\bfcode{create}}{\emph{request}}{}
\end{fulllineitems}

\index{queryset (microdata.views.DeviceViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.DeviceViewSet.queryset}\pysigline{\bfcode{queryset}}
\end{fulllineitems}

\index{serializer\_class (microdata.views.DeviceViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.DeviceViewSet.serializer_class}\pysigline{\bfcode{serializer\_class}}
alias of \code{DeviceSerializer}

\end{fulllineitems}


\end{fulllineitems}

\index{EventViewSet (class in microdata.views)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.EventViewSet}\pysiglinewithargsret{\strong{class }\code{microdata.views.}\bfcode{EventViewSet}}{\emph{**kwargs}}{}
Bases: \code{rest\_framework.viewsets.ModelViewSet}

API endpoint that allows events to be viewed or edited.
\index{create() (microdata.views.EventViewSet method)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.EventViewSet.create}\pysiglinewithargsret{\bfcode{create}}{\emph{request}}{}
Custom create method.

Used to parse the packets sent via the REST API. Since the packets are in a JSON array,
the Django REST Framework has no native way of handling these, so we do it ourselves.

\end{fulllineitems}

\index{queryset (microdata.views.EventViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.EventViewSet.queryset}\pysigline{\bfcode{queryset}}
\end{fulllineitems}

\index{serializer\_class (microdata.views.EventViewSet attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.EventViewSet.serializer_class}\pysigline{\bfcode{serializer\_class}}
alias of \code{EventSerializer}

\end{fulllineitems}


\end{fulllineitems}

\index{KeyForm (class in microdata.views)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.KeyForm}\pysiglinewithargsret{\strong{class }\code{microdata.views.}\bfcode{KeyForm}}{\emph{data=None}, \emph{files=None}, \emph{auto\_id=u'id\_\%s'}, \emph{prefix=None}, \emph{initial=None}, \emph{error\_class=\textless{}class `django.forms.util.ErrorList'\textgreater{}}, \emph{label\_suffix=None}, \emph{empty\_permitted=False}}{}
Bases: \code{django.forms.forms.Form}

Form class used to generate a simple key form. Currently used when a user intends to add a new device via the webapp interface.
\index{base\_fields (microdata.views.KeyForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.KeyForm.base_fields}\pysigline{\bfcode{base\_fields}\strong{ = \{`serial': \textless{}django.forms.fields.IntegerField object at 0x2b744a773850\textgreater{}\}}}
\end{fulllineitems}

\index{media (microdata.views.KeyForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.KeyForm.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}

\index{initiate\_job\_to\_glacier() (in module microdata.views)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.initiate_job_to_glacier}\pysiglinewithargsret{\code{microdata.views.}\bfcode{initiate\_job\_to\_glacier}}{\emph{request}, \emph{requester}, \emph{end\_time}}{}
Experimental class to demonstrate the possibility to archive old data to Amazon Glacier.

Requires an Amazon AWS key to be set in the environment variables.

\end{fulllineitems}

\index{new\_device() (in module microdata.views)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.new_device}\pysiglinewithargsret{\code{microdata.views.}\bfcode{new\_device}}{\emph{request}}{}
Function used to service a user's request to add a new {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}}.

\textbf{Context}
\begin{quote}

\code{form}
{\hyperref[modules/microdata:microdata.views.KeyForm]{\emph{\code{microdata.views.KeyForm}}}} object if user requests the form

\code{error}
string - error description if present

\code{created}
true/false if device is created

\code{Device}
serialized {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} object if {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} is created
\end{quote}

\textbf{Templates:}

\emph{base/new\_device/key.html}

\emph{base/new\_device/help.html}

\emph{base/new\_device/first.html}

\emph{base/new\_device/result.html}

\end{fulllineitems}

\index{timestamp() (in module microdata.views)}

\begin{fulllineitems}
\phantomsection\label{modules/microdata:microdata.views.timestamp}\pysiglinewithargsret{\code{microdata.views.}\bfcode{timestamp}}{\emph{request}}{}
Function to return the server's time in milliseconds.

This function is possibly deprecated. Devices should now get the server time
from \code{farmer.DeviceSettingsViewSet}.

\end{fulllineitems}



\subsection{Module contents}
\label{modules/microdata:module-contents}\label{modules/microdata:module-microdata}\index{microdata (module)}

\section{pseudodata module}
\label{modules/pseudodata:module-pseudodata}\label{modules/pseudodata::doc}\label{modules/pseudodata:pseudodata-module}\index{pseudodata (module)}\index{Appliance (class in pseudodata)}

\begin{fulllineitems}
\phantomsection\label{modules/pseudodata:pseudodata.Appliance}\pysiglinewithargsret{\strong{class }\code{pseudodata.}\bfcode{Appliance}}{\emph{name}, \emph{averagepower}}{}
\end{fulllineitems}

\index{C (class in pseudodata)}

\begin{fulllineitems}
\phantomsection\label{modules/pseudodata:pseudodata.C}\pysiglinewithargsret{\strong{class }\code{pseudodata.}\bfcode{C}}{\emph{header}, \emph{device}, \emph{time\_start}, \emph{time\_stop}, \emph{appliance}, \emph{power}, \emph{conn}}{}
\end{fulllineitems}

\index{compute() (in module pseudodata)}

\begin{fulllineitems}
\phantomsection\label{modules/pseudodata:pseudodata.compute}\pysiglinewithargsret{\code{pseudodata.}\bfcode{compute}}{\emph{obj}}{}
\end{fulllineitems}

\index{get\_appliances() (in module pseudodata)}

\begin{fulllineitems}
\phantomsection\label{modules/pseudodata:pseudodata.get_appliances}\pysiglinewithargsret{\code{pseudodata.}\bfcode{get\_appliances}}{}{}
\end{fulllineitems}



\section{pseudodevice module}
\label{modules/pseudodevice:pseudodevice-module}\label{modules/pseudodevice::doc}\label{modules/pseudodevice:module-pseudodevice}\index{pseudodevice (module)}\index{Device (class in pseudodevice)}

\begin{fulllineitems}
\phantomsection\label{modules/pseudodevice:pseudodevice.Device}\pysigline{\strong{class }\code{pseudodevice.}\bfcode{Device}}
\end{fulllineitems}

\index{main() (in module pseudodevice)}

\begin{fulllineitems}
\phantomsection\label{modules/pseudodevice:pseudodevice.main}\pysiglinewithargsret{\code{pseudodevice.}\bfcode{main}}{}{}
The purpose of this function is to mimic the behavior of a device
by interacting with the API. This is to test the functionality
of the REST Framework.

\textbf{Options}
\begin{quote}

\code{-e} \code{-{-}end}
\begin{quote}

int - define end time (in UTC seconds) of script
\end{quote}

\code{-s} \code{-{-}size}
\begin{quote}

define the number of packets to send
\end{quote}

\code{-d} \code{-{-}device}
\begin{quote}

serial of device to send from
\end{quote}
\end{quote}

\end{fulllineitems}



\section{SEADS Project}
\label{modules/seads:seads-project}\label{modules/seads::doc}
The project files for the Web Stack. Contains settings and urls
necessary to run the project.


\subsection{Submodules}
\label{modules/seads:submodules}

\subsection{seads.settings module}
\label{modules/seads:seads-settings-module}\label{modules/seads:module-seads.settings}\index{seads.settings (module)}
Django settings for seads project.

For more information on this file, see
\href{https://docs.djangoproject.com/en/1.7/topics/settings/}{https://docs.djangoproject.com/en/1.7/topics/settings/}

For the full list of settings and their values, see
\href{https://docs.djangoproject.com/en/1.7/ref/settings/}{https://docs.djangoproject.com/en/1.7/ref/settings/}


\subsection{seads.urls module}
\label{modules/seads:seads-urls-module}\label{modules/seads:module-seads.urls}\index{seads.urls (module)}

\subsection{seads.wsgi module}
\label{modules/seads:module-seads.wsgi}\label{modules/seads:seads-wsgi-module}\index{seads.wsgi (module)}
WSGI config for seads project.

It exposes the WSGI callable as a module-level variable named \code{application}.

For more information on this file, see
\href{https://docs.djangoproject.com/en/1.7/howto/deployment/wsgi/}{https://docs.djangoproject.com/en/1.7/howto/deployment/wsgi/}


\subsection{Module contents}
\label{modules/seads:module-seads}\label{modules/seads:module-contents}\index{seads (module)}

\section{Webapp Application}
\label{modules/webapp:webapp-application}\label{modules/webapp::doc}
This application is what interfaces with the data that is retrieved by the Microdata application. Developed as a sort of proof-of-concept, this application has the minimal functionality required to visualize the data coming from the devices in a somewhat meaningful way.

This application is responsible for serving requests from clients on the web by interfacing with the database to display the data. Many of the facets of this application were designed to be interacted with via AJAX, giving the dashboard the responsiveness necessary to provide a useful user experience. Some of the calls to the database can be rather costly in terms of time, so they are lazy loaded, as in only when needed.

In addition, the webapp module houses the HTML and Javascript needed to run the web interface on the client side.


\subsection{Subpackages}
\label{modules/webapp:subpackages}

\subsubsection{webapp.management package}
\label{modules/webapp.management::doc}\label{modules/webapp.management:webapp-management-package}

\paragraph{Subpackages}
\label{modules/webapp.management:subpackages}

\subparagraph{webapp.management.commands package}
\label{modules/webapp.management.commands::doc}\label{modules/webapp.management.commands:webapp-management-commands-package}

\subparagraph{Submodules}
\label{modules/webapp.management.commands:submodules}

\subparagraph{webapp.management.commands.email\_event module}
\label{modules/webapp.management.commands:webapp-management-commands-email-event-module}

\subparagraph{webapp.management.commands.email\_interval module}
\label{modules/webapp.management.commands:webapp-management-commands-email-interval-module}

\subparagraph{webapp.management.commands.reset\_kilowatt\_accumulations module}
\label{modules/webapp.management.commands:module-webapp.management.commands.reset_kilowatt_accumulations}\label{modules/webapp.management.commands:webapp-management-commands-reset-kilowatt-accumulations-module}\index{webapp.management.commands.reset\_kilowatt\_accumulations (module)}\index{Command (class in webapp.management.commands.reset\_kilowatt\_accumulations)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp.management.commands:webapp.management.commands.reset_kilowatt_accumulations.Command}\pysigline{\strong{class }\code{webapp.management.commands.reset\_kilowatt\_accumulations.}\bfcode{Command}}
Bases: \code{django.core.management.base.BaseCommand}
\index{args (webapp.management.commands.reset\_kilowatt\_accumulations.Command attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp.management.commands:webapp.management.commands.reset_kilowatt_accumulations.Command.args}\pysigline{\bfcode{args}\strong{ = `daily, weekly'}}
\end{fulllineitems}

\index{handle() (webapp.management.commands.reset\_kilowatt\_accumulations.Command method)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp.management.commands:webapp.management.commands.reset_kilowatt_accumulations.Command.handle}\pysiglinewithargsret{\bfcode{handle}}{\emph{*args}, \emph{**options}}{}
\end{fulllineitems}

\index{help (webapp.management.commands.reset\_kilowatt\_accumulations.Command attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp.management.commands:webapp.management.commands.reset_kilowatt_accumulations.Command.help}\pysigline{\bfcode{help}\strong{ = `'}}
\end{fulllineitems}


\end{fulllineitems}



\subparagraph{Module contents}
\label{modules/webapp.management.commands:module-webapp.management.commands}\label{modules/webapp.management.commands:module-contents}\index{webapp.management.commands (module)}

\paragraph{Module contents}
\label{modules/webapp.management:module-contents}\label{modules/webapp.management:module-webapp.management}\index{webapp.management (module)}

\subsection{Submodules}
\label{modules/webapp:submodules}

\subsection{webapp.admin module}
\label{modules/webapp:module-webapp.admin}\label{modules/webapp:webapp-admin-module}\index{webapp.admin (module)}\index{DashboardSettingsInline (class in webapp.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.DashboardSettingsInline}\pysiglinewithargsret{\strong{class }\code{webapp.admin.}\bfcode{DashboardSettingsInline}}{\emph{parent\_model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.StackedInline}
\index{can\_delete (webapp.admin.DashboardSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.DashboardSettingsInline.can_delete}\pysigline{\bfcode{can\_delete}\strong{ = False}}
\end{fulllineitems}

\index{media (webapp.admin.DashboardSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.DashboardSettingsInline.media}\pysigline{\bfcode{media}}
\end{fulllineitems}

\index{model (webapp.admin.DashboardSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.DashboardSettingsInline.model}\pysigline{\bfcode{model}}
alias of \code{DashboardSettings}

\end{fulllineitems}

\index{verbose\_name\_plural (webapp.admin.DashboardSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.DashboardSettingsInline.verbose_name_plural}\pysigline{\bfcode{verbose\_name\_plural}\strong{ = `dashboardsettings'}}
\end{fulllineitems}


\end{fulllineitems}

\index{RatePlanAdmin (class in webapp.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.RatePlanAdmin}\pysiglinewithargsret{\strong{class }\code{webapp.admin.}\bfcode{RatePlanAdmin}}{\emph{model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.ModelAdmin}

Class used to expose the {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}} model to the administrator. This was designed to be flexible to allow an administrator to add/modify Rate Plans based on electric company data.
\index{inlines (webapp.admin.RatePlanAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.RatePlanAdmin.inlines}\pysigline{\bfcode{inlines}\strong{ = (\textless{}class `webapp.admin.TierInline'\textgreater{},)}}
\end{fulllineitems}

\index{list\_display (webapp.admin.RatePlanAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.RatePlanAdmin.list_display}\pysigline{\bfcode{list\_display}\strong{ = (`description', `utility\_company', `pk')}}
\end{fulllineitems}

\index{media (webapp.admin.RatePlanAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.RatePlanAdmin.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}

\index{TerritoryAdmin (class in webapp.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.TerritoryAdmin}\pysiglinewithargsret{\strong{class }\code{webapp.admin.}\bfcode{TerritoryAdmin}}{\emph{model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.ModelAdmin}

Class used to expose the \code{webapp.models.Territory{}`} model to the administrator. This was designed to be flexible to allow an administrator to add/modify Territories based on electric company data.
\index{list\_display (webapp.admin.TerritoryAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.TerritoryAdmin.list_display}\pysigline{\bfcode{list\_display}\strong{ = (`description', `rate\_plan', `pk')}}
\end{fulllineitems}

\index{media (webapp.admin.TerritoryAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.TerritoryAdmin.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}

\index{TierInline (class in webapp.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.TierInline}\pysiglinewithargsret{\strong{class }\code{webapp.admin.}\bfcode{TierInline}}{\emph{parent\_model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.StackedInline}

Class used to expose the {\hyperref[modules/webapp:webapp.models.Tier]{\emph{\code{webapp.models.Tier}}}} model to the administrator. This was designed to be flexible to allow an administrator to add/modify tiers based on electric company data.
\index{media (webapp.admin.TierInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.TierInline.media}\pysigline{\bfcode{media}}
\end{fulllineitems}

\index{model (webapp.admin.TierInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.TierInline.model}\pysigline{\bfcode{model}}
alias of \code{Tier}

\end{fulllineitems}


\end{fulllineitems}

\index{UserAdmin (class in webapp.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UserAdmin}\pysiglinewithargsret{\strong{class }\code{webapp.admin.}\bfcode{UserAdmin}}{\emph{model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.auth.admin.UserAdmin}
\index{inlines (webapp.admin.UserAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UserAdmin.inlines}\pysigline{\bfcode{inlines}\strong{ = (\textless{}class `webapp.admin.UserSettingsInline'\textgreater{}, \textless{}class `webapp.admin.DashboardSettingsInline'\textgreater{})}}
\end{fulllineitems}

\index{media (webapp.admin.UserAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UserAdmin.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}

\index{UserSettingsInline (class in webapp.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UserSettingsInline}\pysiglinewithargsret{\strong{class }\code{webapp.admin.}\bfcode{UserSettingsInline}}{\emph{parent\_model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.StackedInline}
\index{can\_delete (webapp.admin.UserSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UserSettingsInline.can_delete}\pysigline{\bfcode{can\_delete}\strong{ = False}}
\end{fulllineitems}

\index{media (webapp.admin.UserSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UserSettingsInline.media}\pysigline{\bfcode{media}}
\end{fulllineitems}

\index{model (webapp.admin.UserSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UserSettingsInline.model}\pysigline{\bfcode{model}}
alias of \code{UserSettings}

\end{fulllineitems}

\index{verbose\_name\_plural (webapp.admin.UserSettingsInline attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UserSettingsInline.verbose_name_plural}\pysigline{\bfcode{verbose\_name\_plural}\strong{ = `usersettings'}}
\end{fulllineitems}


\end{fulllineitems}

\index{UtilityCompanyAdmin (class in webapp.admin)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UtilityCompanyAdmin}\pysiglinewithargsret{\strong{class }\code{webapp.admin.}\bfcode{UtilityCompanyAdmin}}{\emph{model}, \emph{admin\_site}}{}
Bases: \code{django.contrib.admin.options.ModelAdmin}
\index{list\_display (webapp.admin.UtilityCompanyAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UtilityCompanyAdmin.list_display}\pysigline{\bfcode{list\_display}\strong{ = (`description', `pk')}}
\end{fulllineitems}

\index{media (webapp.admin.UtilityCompanyAdmin attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.admin.UtilityCompanyAdmin.media}\pysigline{\bfcode{media}}
\end{fulllineitems}


\end{fulllineitems}



\subsection{webapp.device\_dictionary module}
\label{modules/webapp:module-webapp.device_dictionary}\label{modules/webapp:webapp-device-dictionary-module}\index{webapp.device\_dictionary (module)}

\subsection{webapp.models module}
\label{modules/webapp:webapp-models-module}\phantomsection\label{modules/webapp:module-webapp.models}\index{webapp.models (module)}\index{DashboardSettings (class in webapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DashboardSettings}\pysiglinewithargsret{\strong{class }\code{webapp.models.}\bfcode{DashboardSettings}}{\emph{id}, \emph{user\_id}, \emph{stack}}{}
Bases: \code{django.db.models.base.Model}
\index{DashboardSettings.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DashboardSettings.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{DashboardSettings.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DashboardSettings.MultipleObjectsReturned}\pysigline{\strong{exception }\code{DashboardSettings.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{objects (webapp.models.DashboardSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DashboardSettings.objects}\pysigline{\code{DashboardSettings.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{user (webapp.models.DashboardSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DashboardSettings.user}\pysigline{\code{DashboardSettings.}\bfcode{user}}
\end{fulllineitems}


\end{fulllineitems}

\index{DeviceWebSettings (class in webapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DeviceWebSettings}\pysiglinewithargsret{\strong{class }\code{webapp.models.}\bfcode{DeviceWebSettings}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

An encapsulating module that links a device's settings together.

This model can be extended to include new settings that may come to be in the future.
\index{DeviceWebSettings.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DeviceWebSettings.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{DeviceWebSettings.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DeviceWebSettings.MultipleObjectsReturned}\pysigline{\strong{exception }\code{DeviceWebSettings.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{current\_tier (webapp.models.DeviceWebSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DeviceWebSettings.current_tier}\pysigline{\code{DeviceWebSettings.}\bfcode{current\_tier}}
\end{fulllineitems}

\index{device (webapp.models.DeviceWebSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DeviceWebSettings.device}\pysigline{\code{DeviceWebSettings.}\bfcode{device}}
\end{fulllineitems}

\index{objects (webapp.models.DeviceWebSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DeviceWebSettings.objects}\pysigline{\code{DeviceWebSettings.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{rate\_plans (webapp.models.DeviceWebSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DeviceWebSettings.rate_plans}\pysigline{\code{DeviceWebSettings.}\bfcode{rate\_plans}}
\end{fulllineitems}

\index{territories (webapp.models.DeviceWebSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DeviceWebSettings.territories}\pysigline{\code{DeviceWebSettings.}\bfcode{territories}}
\end{fulllineitems}

\index{utility\_companies (webapp.models.DeviceWebSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.DeviceWebSettings.utility_companies}\pysigline{\code{DeviceWebSettings.}\bfcode{utility\_companies}}
\end{fulllineitems}


\end{fulllineitems}

\index{EventNotification (class in webapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification}\pysiglinewithargsret{\strong{class }\code{webapp.models.}\bfcode{EventNotification}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

Notification sent to users via email whenever a notable event is detected.

This class is not currently in use since the system is not set up in such
a way as to detect any events. However, the notification framework is in
place such that when the functionality is added, this class should be called
in response to an event.

These notifications can be added/modified via the admin interface.
\index{EventNotification.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{EventNotification.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification.MultipleObjectsReturned}\pysigline{\strong{exception }\code{EventNotification.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{appliances\_to\_watch (webapp.models.EventNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification.appliances_to_watch}\pysigline{\code{EventNotification.}\bfcode{appliances\_to\_watch}}
Assemble a group of appliances to watch. Could be one or many.

\end{fulllineitems}

\index{description (webapp.models.EventNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification.description}\pysigline{\code{EventNotification.}\bfcode{description}\strong{ = None}}
The description of the event notification as a user would see it when selecting/deselecting the notification in the settings interface

\end{fulllineitems}

\index{email\_subject (webapp.models.EventNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification.email_subject}\pysigline{\code{EventNotification.}\bfcode{email\_subject}\strong{ = None}}
An email-friendly subject for the event notification.

\end{fulllineitems}

\index{keyword (webapp.models.EventNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification.keyword}\pysigline{\code{EventNotification.}\bfcode{keyword}\strong{ = None}}
Used to trigger the event notification in the django manager.

\end{fulllineitems}

\index{objects (webapp.models.EventNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification.objects}\pysigline{\code{EventNotification.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{period\_of\_time (webapp.models.EventNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification.period_of_time}\pysigline{\code{EventNotification.}\bfcode{period\_of\_time}\strong{ = None}}
Proof of concept field to provide a threshold. If a group of appliances surpasses the threshold for a period of time, then send the email.

\end{fulllineitems}

\index{usersettings\_set (webapp.models.EventNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification.usersettings_set}\pysigline{\code{EventNotification.}\bfcode{usersettings\_set}}
\end{fulllineitems}

\index{watts\_above\_average (webapp.models.EventNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.EventNotification.watts_above_average}\pysigline{\code{EventNotification.}\bfcode{watts\_above\_average}\strong{ = None}}
Proof of concept field to provide a threshold. If a group of appliances surpasses the threshold for a period of time, then send the email.

\end{fulllineitems}


\end{fulllineitems}

\index{IntervalNotification (class in webapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.IntervalNotification}\pysiglinewithargsret{\strong{class }\code{webapp.models.}\bfcode{IntervalNotification}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

Notifications sent to users when a specified period has elapsed.

This class is also proof-of-concept, and it relies upon the \href{http://aws.amazon.com/ses/}{Amazon Simple Email Service}.
An email will be sent to users who opt in to the notification summarizing their devices' energy usage over the specified
period.
\index{IntervalNotification.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.IntervalNotification.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{IntervalNotification.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.IntervalNotification.MultipleObjectsReturned}\pysigline{\strong{exception }\code{IntervalNotification.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{description (webapp.models.IntervalNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.IntervalNotification.description}\pysigline{\code{IntervalNotification.}\bfcode{description}\strong{ = None}}
The description of the event notification as a user would see it when selecting/deselecting the notification in the settings interface

\end{fulllineitems}

\index{email\_subject (webapp.models.IntervalNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.IntervalNotification.email_subject}\pysigline{\code{IntervalNotification.}\bfcode{email\_subject}\strong{ = None}}
An email-friendly subject for the event notification.

\end{fulllineitems}

\index{notification\_set (webapp.models.IntervalNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.IntervalNotification.notification_set}\pysigline{\code{IntervalNotification.}\bfcode{notification\_set}}
\end{fulllineitems}

\index{objects (webapp.models.IntervalNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.IntervalNotification.objects}\pysigline{\code{IntervalNotification.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{usersettings\_set (webapp.models.IntervalNotification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.IntervalNotification.usersettings_set}\pysigline{\code{IntervalNotification.}\bfcode{usersettings\_set}}
\end{fulllineitems}


\end{fulllineitems}

\index{Notification (class in webapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Notification}\pysiglinewithargsret{\strong{class }\code{webapp.models.}\bfcode{Notification}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

DEPRECATED
\index{Notification.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Notification.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{Notification.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Notification.MultipleObjectsReturned}\pysigline{\strong{exception }\code{Notification.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{interval\_notification (webapp.models.Notification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Notification.interval_notification}\pysigline{\code{Notification.}\bfcode{interval\_notification}}
\end{fulllineitems}

\index{objects (webapp.models.Notification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Notification.objects}\pysigline{\code{Notification.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{user (webapp.models.Notification attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Notification.user}\pysigline{\code{Notification.}\bfcode{user}}
\end{fulllineitems}


\end{fulllineitems}

\index{RatePlan (class in webapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan}\pysiglinewithargsret{\strong{class }\code{webapp.models.}\bfcode{RatePlan}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

The base class that describes how a user is charged in the Utility Company.

This class is linked to {\hyperref[modules/webapp:webapp.models.UtilityCompany]{\emph{\code{webapp.models.UtilityCompany}}}} via a ForeignKey.
In addition, the class contains a list of {\hyperref[modules/webapp:webapp.models.Tier]{\emph{\code{webapp.models.Tier}}}} objects
that describe how the charges change based on usage.
\index{RatePlan.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{RatePlan.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.MultipleObjectsReturned}\pysigline{\strong{exception }\code{RatePlan.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{california\_climate\_credit (webapp.models.RatePlan attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.california_climate_credit}\pysigline{\code{RatePlan.}\bfcode{california\_climate\_credit}\strong{ = None}}
A credit applied to a user's account twice yearly. Not currently in use.

\end{fulllineitems}

\index{data\_source (webapp.models.RatePlan attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.data_source}\pysigline{\code{RatePlan.}\bfcode{data\_source}\strong{ = None}}
A simple URL field that links to the source of the data for this {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}}.

\end{fulllineitems}

\index{description (webapp.models.RatePlan attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.description}\pysigline{\code{RatePlan.}\bfcode{description}\strong{ = None}}
A short description for the user when selecting their {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}}.

\end{fulllineitems}

\index{devicewebsettings\_set (webapp.models.RatePlan attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.devicewebsettings_set}\pysigline{\code{RatePlan.}\bfcode{devicewebsettings\_set}}
\end{fulllineitems}

\index{min\_charge\_rate (webapp.models.RatePlan attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.min_charge_rate}\pysigline{\code{RatePlan.}\bfcode{min\_charge\_rate}\strong{ = None}}
The minimum amount charged to a user's account. Not currently in use.

\end{fulllineitems}

\index{objects (webapp.models.RatePlan attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.objects}\pysigline{\code{RatePlan.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{territory\_set (webapp.models.RatePlan attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.territory_set}\pysigline{\code{RatePlan.}\bfcode{territory\_set}}
\end{fulllineitems}

\index{tier\_set (webapp.models.RatePlan attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.tier_set}\pysigline{\code{RatePlan.}\bfcode{tier\_set}}
\end{fulllineitems}

\index{utility\_company (webapp.models.RatePlan attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.RatePlan.utility_company}\pysigline{\code{RatePlan.}\bfcode{utility\_company}}
Utility company relation. Describe who owns the {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}}

\end{fulllineitems}


\end{fulllineitems}

\index{Territory (class in webapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory}\pysiglinewithargsret{\strong{class }\code{webapp.models.}\bfcode{Territory}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

A {\hyperref[modules/webapp:webapp.models.Territory]{\emph{\code{webapp.models.Territory}}}} defines specifically key fields associated with a {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}}.

This class specifies the base rates of a given {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}} as well as defining
the winter and summer seasons for seasonal pricing.
\index{Territory.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{Territory.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.MultipleObjectsReturned}\pysigline{\strong{exception }\code{Territory.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{data\_source (webapp.models.Territory attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.data_source}\pysigline{\code{Territory.}\bfcode{data\_source}\strong{ = None}}
A simple URL field that links to the source of the data for this {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}}.

\end{fulllineitems}

\index{description (webapp.models.Territory attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.description}\pysigline{\code{Territory.}\bfcode{description}\strong{ = None}}
A short description for the user when selecting their {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}}.

\end{fulllineitems}

\index{devicewebsettings\_set (webapp.models.Territory attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.devicewebsettings_set}\pysigline{\code{Territory.}\bfcode{devicewebsettings\_set}}
\end{fulllineitems}

\index{objects (webapp.models.Territory attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.objects}\pysigline{\code{Territory.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{rate\_plan (webapp.models.Territory attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.rate_plan}\pysigline{\code{Territory.}\bfcode{rate\_plan}}
This object is related to a {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}}.

\end{fulllineitems}

\index{summer\_rate (webapp.models.Territory attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.summer_rate}\pysigline{\code{Territory.}\bfcode{summer\_rate}\strong{ = None}}
The base rate for the summer season.

\end{fulllineitems}

\index{summer\_start (webapp.models.Territory attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.summer_start}\pysigline{\code{Territory.}\bfcode{summer\_start}\strong{ = None}}
A month of the year that specifies the start of summer. 1-12.

\end{fulllineitems}

\index{winter\_rate (webapp.models.Territory attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.winter_rate}\pysigline{\code{Territory.}\bfcode{winter\_rate}\strong{ = None}}
The base rate for the winter season.

\end{fulllineitems}

\index{winter\_start (webapp.models.Territory attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Territory.winter_start}\pysigline{\code{Territory.}\bfcode{winter\_start}\strong{ = None}}
A month of the year that specifies the start of winter. 1-12.

\end{fulllineitems}


\end{fulllineitems}

\index{Tier (class in webapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Tier}\pysiglinewithargsret{\strong{class }\code{webapp.models.}\bfcode{Tier}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

A class that defines the cost and threshold of a {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}}.

A {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}} typically has 4-5 {\hyperref[modules/webapp:webapp.models.Tier]{\emph{\code{webapp.models.Tier}}}} objects
as a relation. These objects keep track of the cost modifier as well as the KWh threshold
for a given device.
\index{Tier.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Tier.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{Tier.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Tier.MultipleObjectsReturned}\pysigline{\strong{exception }\code{Tier.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{chart\_color (webapp.models.Tier attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Tier.chart_color}\pysigline{\code{Tier.}\bfcode{chart\_color}\strong{ = None}}
Color used by charts when graphing a {\hyperref[modules/webapp:webapp.models.Tier]{\emph{\code{webapp.models.Tier}}}}.

\end{fulllineitems}

\index{devicewebsettings\_set (webapp.models.Tier attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Tier.devicewebsettings_set}\pysigline{\code{Tier.}\bfcode{devicewebsettings\_set}}
\end{fulllineitems}

\index{max\_percentage\_of\_baseline (webapp.models.Tier attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Tier.max_percentage_of_baseline}\pysigline{\code{Tier.}\bfcode{max\_percentage\_of\_baseline}\strong{ = None}}
This defines the threshold for a given {\hyperref[modules/webapp:webapp.models.Tier]{\emph{\code{webapp.models.Tier}}}}. I.e. 100\% - 130\%

\end{fulllineitems}

\index{objects (webapp.models.Tier attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Tier.objects}\pysigline{\code{Tier.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{rate (webapp.models.Tier attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Tier.rate}\pysigline{\code{Tier.}\bfcode{rate}\strong{ = None}}
The actual cost of a KWh at this level.

\end{fulllineitems}

\index{rate\_plan (webapp.models.Tier attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Tier.rate_plan}\pysigline{\code{Tier.}\bfcode{rate\_plan}}
This object is related to a {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}}.

\end{fulllineitems}

\index{tier\_level (webapp.models.Tier attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.Tier.tier_level}\pysigline{\code{Tier.}\bfcode{tier\_level}\strong{ = None}}
An Integer, starting at 1, indicating the current level of the device.

\end{fulllineitems}


\end{fulllineitems}

\index{UserSettings (class in webapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UserSettings}\pysiglinewithargsret{\strong{class }\code{webapp.models.}\bfcode{UserSettings}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

An encapsulating module that links a user's settings together.

This model can be extended to include new settings that may come to be in the future.
\index{UserSettings.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UserSettings.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{UserSettings.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UserSettings.MultipleObjectsReturned}\pysigline{\strong{exception }\code{UserSettings.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{event\_notification (webapp.models.UserSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UserSettings.event_notification}\pysigline{\code{UserSettings.}\bfcode{event\_notification}}
A list of event notifications that the user has opted in to. Default to none.

\end{fulllineitems}

\index{interval\_notification (webapp.models.UserSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UserSettings.interval_notification}\pysigline{\code{UserSettings.}\bfcode{interval\_notification}}
A list of interval notifications that the user has opted in to. Default to none.

\end{fulllineitems}

\index{objects (webapp.models.UserSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UserSettings.objects}\pysigline{\code{UserSettings.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{user (webapp.models.UserSettings attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UserSettings.user}\pysigline{\code{UserSettings.}\bfcode{user}}
The related model for a settings model.

\end{fulllineitems}


\end{fulllineitems}

\index{UtilityCompany (class in webapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UtilityCompany}\pysiglinewithargsret{\strong{class }\code{webapp.models.}\bfcode{UtilityCompany}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.db.models.base.Model}

A placeholder class to describe a Utility Company.

Since PG\&E is the only company that was developed on during the proof-of-concept phase,
it is the company that was used to model the pricing structures. In the future, in order
to integrate new types of companies, a Utility Company model should reflect how the Utility
Company calculates cost.
\index{UtilityCompany.DoesNotExist}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UtilityCompany.DoesNotExist}\pysigline{\strong{exception }\bfcode{DoesNotExist}}
Bases: \code{django.core.exceptions.ObjectDoesNotExist}

\end{fulllineitems}

\index{UtilityCompany.MultipleObjectsReturned}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UtilityCompany.MultipleObjectsReturned}\pysigline{\strong{exception }\code{UtilityCompany.}\bfcode{MultipleObjectsReturned}}
Bases: \code{django.core.exceptions.MultipleObjectsReturned}

\end{fulllineitems}

\index{description (webapp.models.UtilityCompany attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UtilityCompany.description}\pysigline{\code{UtilityCompany.}\bfcode{description}\strong{ = None}}
A label that describes what company this is. Used for selection.

\end{fulllineitems}

\index{devicewebsettings\_set (webapp.models.UtilityCompany attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UtilityCompany.devicewebsettings_set}\pysigline{\code{UtilityCompany.}\bfcode{devicewebsettings\_set}}
\end{fulllineitems}

\index{objects (webapp.models.UtilityCompany attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UtilityCompany.objects}\pysigline{\code{UtilityCompany.}\bfcode{objects}\strong{ = \textless{}django.db.models.manager.Manager object\textgreater{}}}
\end{fulllineitems}

\index{rateplan\_set (webapp.models.UtilityCompany attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.models.UtilityCompany.rateplan_set}\pysigline{\code{UtilityCompany.}\bfcode{rateplan\_set}}
\end{fulllineitems}


\end{fulllineitems}



\subsection{webapp.tests module}
\label{modules/webapp:module-webapp.tests}\label{modules/webapp:webapp-tests-module}\index{webapp.tests (module)}

\subsection{webapp.timeseries module}
\label{modules/webapp:module-webapp.timeseries}\label{modules/webapp:webapp-timeseries-module}\index{webapp.timeseries (module)}\index{smooth() (in module webapp.timeseries)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.timeseries.smooth}\pysiglinewithargsret{\code{webapp.timeseries.}\bfcode{smooth}}{\emph{x}, \emph{window\_len=11}, \emph{window='hanning'}}{}
smooth the data using a window with requested size.

This method is based on the convolution of a scaled window with the signal.
The signal is prepared by introducing reflected copies of the signal 
(with the window size) in both ends so that transient parts are minimized
in the begining and end part of the output signal.
\begin{description}
\item[{input:}] \leavevmode
x: the input signal 
window\_len: the dimension of the smoothing window; should be an odd integer
window: the type of window from `flat', `hanning', `hamming', `bartlett', `blackman'
\begin{quote}

flat window will produce a moving average smoothing.
\end{quote}

\item[{output:}] \leavevmode
the smoothed signal

\end{description}

example:

t=linspace(-2,2,0.1)
x=sin(t)+randn(len(t))*0.1
y=smooth(x)

see also:

numpy.hanning, numpy.hamming, numpy.bartlett, numpy.blackman, numpy.convolve
scipy.signal.lfilter

TODO: the window parameter could be the window itself if an array instead of a string
NOTE: length(output) != length(input), to correct this: return y{[}(window\_len/2-1):-(window\_len/2){]} instead of just y.

\href{http://wiki.scipy.org/Cookbook/SignalSmooth}{http://wiki.scipy.org/Cookbook/SignalSmooth}

\end{fulllineitems}



\subsection{webapp.views module}
\label{modules/webapp:webapp-views-module}\label{modules/webapp:module-webapp.views}\index{webapp.views (module)}\index{Object (class in webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.Object}\pysiglinewithargsret{\strong{class }\code{webapp.views.}\bfcode{Object}}{\emph{serial}}{}
\end{fulllineitems}

\index{SettingsForm (class in webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm}\pysiglinewithargsret{\strong{class }\code{webapp.views.}\bfcode{SettingsForm}}{\emph{*args}, \emph{**kwargs}}{}
Bases: \code{django.forms.forms.Form}
\index{base\_fields (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.base_fields}\pysigline{\bfcode{base\_fields}\strong{ = \{`new\_username': \textless{}django.forms.fields.CharField object at 0x2b744b114310\textgreater{}, `password1': \textless{}django.forms.fields.CharField object at 0x2b744b12a8d0\textgreater{}, `password2': \textless{}django.forms.fields.CharField object at 0x2b744b12a950\textgreater{}, `first\_name': \textless{}django.forms.fields.CharField object at 0x2b744b12a9d0\textgreater{}, `last\_name': \textless{}django.forms.fields.CharField object at 0x2b744b12aad0\textgreater{}, `email': \textless{}django.forms.fields.EmailField object at 0x2b744b12abd0\textgreater{}, `notifications': \textless{}django.forms.fields.ChoiceField object at 0x2b744b12ac50\textgreater{}, `share\_with': \textless{}django.forms.fields.ChoiceField object at 0x2b744b12ad10\textgreater{}, `new\_name': \textless{}django.forms.fields.CharField object at 0x2b744b12ad90\textgreater{}, `channel\_1': \textless{}django.forms.fields.ChoiceField object at 0x2b744b12ae90\textgreater{}, `channel\_2': \textless{}django.forms.fields.ChoiceField object at 0x2b744b12af10\textgreater{}, `channel\_3': \textless{}django.forms.fields.ChoiceField object at 0x2b744b12af90\textgreater{}, `utility\_companies': \textless{}django.forms.fields.ChoiceField object at 0x2b744b132050\textgreater{}, `rate\_plans': \textless{}django.forms.fields.ChoiceField object at 0x2b744b1320d0\textgreater{}, `territories': \textless{}django.forms.fields.ChoiceField object at 0x2b744b132150\textgreater{}, `stack': \textless{}django.forms.fields.BooleanField object at 0x2b744b132190\textgreater{}\}}}
\end{fulllineitems}

\index{channel\_1\_choices (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.channel_1_choices}\pysigline{\bfcode{channel\_1\_choices}\strong{ = {[}{]}}}
\end{fulllineitems}

\index{channel\_2\_choices (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.channel_2_choices}\pysigline{\bfcode{channel\_2\_choices}\strong{ = {[}{]}}}
\end{fulllineitems}

\index{channel\_3\_choices (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.channel_3_choices}\pysigline{\bfcode{channel\_3\_choices}\strong{ = {[}{]}}}
\end{fulllineitems}

\index{clean\_password2() (webapp.views.SettingsForm method)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.clean_password2}\pysiglinewithargsret{\bfcode{clean\_password2}}{}{}
\end{fulllineitems}

\index{error\_messages (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.error_messages}\pysigline{\bfcode{error\_messages}\strong{ = \{`password\_mismatch': ``The two password fields didn't match.''\}}}
\end{fulllineitems}

\index{get\_notifications() (webapp.views.SettingsForm method)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.get_notifications}\pysiglinewithargsret{\bfcode{get\_notifications}}{\emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{get\_rate\_plans() (webapp.views.SettingsForm method)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.get_rate_plans}\pysiglinewithargsret{\bfcode{get\_rate\_plans}}{\emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{get\_territories() (webapp.views.SettingsForm method)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.get_territories}\pysiglinewithargsret{\bfcode{get\_territories}}{\emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{get\_utility\_companies() (webapp.views.SettingsForm method)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.get_utility_companies}\pysiglinewithargsret{\bfcode{get\_utility\_companies}}{\emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{media (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.media}\pysigline{\bfcode{media}}
\end{fulllineitems}

\index{notification\_choices (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.notification_choices}\pysigline{\bfcode{notification\_choices}\strong{ = {[}{]}}}
\end{fulllineitems}

\index{rate\_plan\_choices (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.rate_plan_choices}\pysigline{\bfcode{rate\_plan\_choices}\strong{ = {[}{]}}}
\end{fulllineitems}

\index{share\_with\_choices (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.share_with_choices}\pysigline{\bfcode{share\_with\_choices}\strong{ = {[}{]}}}
\end{fulllineitems}

\index{territory\_choices (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.territory_choices}\pysigline{\bfcode{territory\_choices}\strong{ = {[}{]}}}
\end{fulllineitems}

\index{utility\_company\_choices (webapp.views.SettingsForm attribute)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.SettingsForm.utility_company_choices}\pysigline{\bfcode{utility\_company\_choices}\strong{ = {[}{]}}}
\end{fulllineitems}


\end{fulllineitems}

\index{billing\_information() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.billing_information}\pysiglinewithargsret{\code{webapp.views.}\bfcode{billing\_information}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
Dashboard function called via AJAX.

This gives the user live information about their bill status
as it stands from within the server's calculations. The current
tier is returned as well as the total KWh consumed for this month.

\textbf{Context}
\begin{quote}
\begin{quote}

\code{device}
\begin{quote}

The {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} object that the
request was completed for.
\end{quote}

\code{tier\_progress\_list}
\begin{quote}

A tuple containing a {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}}
object as well as a percentage of the progess the
{\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} is to reaching the next
{\hyperref[modules/webapp:webapp.models.Tier]{\emph{\code{webapp.models.Tier}}}} level.
\end{quote}

\code{territory}
\begin{quote}
\begin{quote}

This returns the current {\hyperref[modules/webapp:webapp.models.Territory]{\emph{\code{webapp.models.Territory}}}}
which assists in client-side calculations.
\end{quote}

\code{tiers}
\begin{quote}

A list of all the {\hyperref[modules/webapp:webapp.models.Tier]{\emph{\code{webapp.models.Tier}}}} objects
associated with the chosen {\hyperref[modules/webapp:webapp.models.RatePlan]{\emph{\code{webapp.models.RatePlan}}}}.
\end{quote}
\end{quote}
\end{quote}

\textbf{Template}
\begin{quote}

\emph{base/billing\_information.html.html}
\end{quote}
\end{quote}

\end{fulllineitems}

\index{chartify() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.chartify}\pysiglinewithargsret{\code{webapp.views.}\bfcode{chartify}}{\emph{data}}{}
\end{fulllineitems}

\index{charts\_deprecated() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.charts_deprecated}\pysiglinewithargsret{\code{webapp.views.}\bfcode{charts\_deprecated}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
DEPRECATED

\end{fulllineitems}

\index{circuits\_information() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.circuits_information}\pysiglinewithargsret{\code{webapp.views.}\bfcode{circuits\_information}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
Dashboard function called via AJAX.

This function provides the data necessary to render a simple
donut chart showing the breakdown of a circuit by the amount
of energy it has consumed relative to other circuits.

\textbf{Context}
\begin{quote}
\begin{quote}

\code{circuits}
\begin{quote}

A list of tuples of the form:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{[}
    \PYG{n}{microdata}\PYG{o}{.}\PYG{n}{models}\PYG{o}{.}\PYG{n}{Device}\PYG{o}{.}\PYG{n}{channel\PYGZus{}1}\PYG{p}{,}
    \PYG{n}{channel\PYGZus{}1\PYGZus{}kwh}
\PYG{p}{]}
\end{Verbatim}
\end{quote}
\end{quote}

\textbf{Template}
\begin{quote}

\emph{base/base/circuits\_information.html}
\end{quote}
\end{quote}

\end{fulllineitems}

\index{dashboard() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.dashboard}\pysiglinewithargsret{\code{webapp.views.}\bfcode{dashboard}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
The first function called when a user has logged in and accesses the Dashboard.

\textbf{Context}
\begin{quote}

\code{my\_devices}
\begin{quote}

A list of {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} that either belong to the user or are shared with the user.
This list is used to generate markers on the graph.
\end{quote}

\code{server\_time}
\begin{quote}

The current time as reported by the server. This is used as a time offset for the graph.
\end{quote}
\end{quote}

\textbf{Templates:}
\begin{quote}

\emph{base/dashboard.html}
\end{quote}

\end{fulllineitems}

\index{dashboard\_update() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.dashboard_update}\pysiglinewithargsret{\code{webapp.views.}\bfcode{dashboard\_update}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{default\_chart() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.default_chart}\pysiglinewithargsret{\code{webapp.views.}\bfcode{default\_chart}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
The first function called when a user has logged in and accesses the Dashboard.

\textbf{Context}
\begin{quote}

\code{my\_devices}
\begin{quote}

A list of {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} that either belong to the user or are shared with the user.
This list is used to generate markers on the graph.
\end{quote}

\code{server\_time}
\begin{quote}

The current time as reported by the server. This is used as a time offset for the graph.
\end{quote}
\end{quote}

\textbf{Templates:}

{}`   base/dashboard.html{}`

\end{fulllineitems}

\index{device\_chart() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.device_chart}\pysiglinewithargsret{\code{webapp.views.}\bfcode{device\_chart}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}~\begin{quote}

Return an HTML/Javascript chart ready to be rendered to the client.
No data is preloaded. However, a chart will have a unique endpoint
to retrieve data based on device serial.

\textbf{Context}
\begin{quote}

\code{device}
\begin{quote}

A {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} object for the serial provided.
\end{quote}

\code{circuit\_pk}
\begin{quote}
\begin{quote}

If a \code{circuit\_pk} is specified, then this function will return a chart
with just the circuit specified by the primary key. This returns the pk.
\end{quote}

\code{circuit\_name}
\begin{quote}

If a \code{circuit\_pk} is specified, then this function will return a chart
with just the circuit specified by the primary key. This returns the name.
\end{quote}
\end{quote}

\code{circuits}
\begin{quote}

A list of circuits that relate to the channels of the device.
\end{quote}

\code{server\_time}
\begin{quote}

The time as seen by the server right now. Used to synchronize the chart.
\end{quote}

\code{stack}
\begin{quote}

This is used to specify whether the chart is stacked or unstacked. This
was intended to be a setting that a user could toggle via the settings page.
\end{quote}
\end{quote}
\end{quote}

\textbf{Template}
\begin{quote}

\emph{base/chart.html}
\end{quote}

\end{fulllineitems}

\index{device\_data() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.device_data}\pysiglinewithargsret{\code{webapp.views.}\bfcode{device\_data}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
Get the cost today, average wattage, and current wattage associated with the specified device.
Should be called through AJAX and is expected to take a couple seconds to complete.

\textbf{Context}
\begin{quote}

\code{cost\_today}
\begin{quote}

A simple lookup from the device itself. This could be transformed to a template
variable instead in the future.
\end{quote}

\code{average\_wattage}
\begin{quote}

This is done by simply selecting the newest mean value from the 1 day series. This
is probably cheating but it's really fast compared to computing a new average
at every lookup.
\end{quote}

\code{current\_wattage}
\begin{quote}

This is simply the sum of the newest wattages from each channel of the device.
\end{quote}
\end{quote}

\end{fulllineitems}

\index{device\_is\_online() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.device_is_online}\pysiglinewithargsret{\code{webapp.views.}\bfcode{device\_is\_online}}{\emph{device}}{}
\end{fulllineitems}

\index{device\_location() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.device_location}\pysiglinewithargsret{\code{webapp.views.}\bfcode{device\_location}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{device\_status() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.device_status}\pysiglinewithargsret{\code{webapp.views.}\bfcode{device\_status}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
Check to see if a device is connected to the system or not.

This is done by checking to see how recent the newest data point in
the database is. If it's not older than 40 seconds, assume the device
is currently connected.

\textbf{Context}
\begin{quote}

\code{connected}
\begin{quote}

Boolean. True if device has data not older than 40 seconds.
\end{quote}
\end{quote}

\end{fulllineitems}

\index{export\_data() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.export_data}\pysiglinewithargsret{\code{webapp.views.}\bfcode{export\_data}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{generate\_average\_wattage\_usage() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.generate_average_wattage_usage}\pysiglinewithargsret{\code{webapp.views.}\bfcode{generate\_average\_wattage\_usage}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
Get the cost today, average wattage, and current wattage associated with the specified device.
Should be called through AJAX and is expected to take a couple seconds to complete.

\textbf{Context}
\begin{quote}

\code{cost\_today}
\begin{quote}

A simple lookup from the device itself. This could be transformed to a template
variable instead in the future.
\end{quote}

\code{average\_wattage}
\begin{quote}

This is done by simply selecting the newest mean value from the 1 day series. This
is probably cheating but it's really fast compared to computing a new average
at every lookup.
\end{quote}

\code{current\_wattage}
\begin{quote}

This is simply the sum of the newest wattages from each channel of the device.
\end{quote}
\end{quote}

\end{fulllineitems}

\index{generate\_heatmap\_data() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.generate_heatmap_data}\pysiglinewithargsret{\code{webapp.views.}\bfcode{generate\_heatmap\_data}}{\emph{serial}}{}
\end{fulllineitems}

\index{get\_wattage\_usage() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.get_wattage_usage}\pysiglinewithargsret{\code{webapp.views.}\bfcode{get\_wattage\_usage}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
Wrapper function that calls \emph{webapp.views.generate\_average\_wattage\_usage}.

\end{fulllineitems}

\index{group\_by\_mean() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.group_by_mean}\pysiglinewithargsret{\code{webapp.views.}\bfcode{group\_by\_mean}}{\emph{serial}, \emph{unit}, \emph{start}, \emph{stop}, \emph{localtime}, \emph{circuit\_pk}}{}
\end{fulllineitems}

\index{heatmap() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.heatmap}\pysiglinewithargsret{\code{webapp.views.}\bfcode{heatmap}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{landing() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.landing}\pysiglinewithargsret{\code{webapp.views.}\bfcode{landing}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
The first function called when a user has logged in and accesses the Dashboard.

\textbf{Context}
\begin{quote}

\code{my\_devices}
\begin{quote}

A list of {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} objects that either belong to the user or are shared with the user.
This list is used to populate the sidebar with {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} links.
\end{quote}
\end{quote}

\textbf{Templates:}
\begin{quote}

\emph{base/dashboard.html}
\end{quote}

\end{fulllineitems}

\index{make\_choices() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.make_choices}\pysiglinewithargsret{\code{webapp.views.}\bfcode{make\_choices}}{\emph{querysets}}{}
\end{fulllineitems}

\index{merge\_subs() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.merge_subs}\pysiglinewithargsret{\code{webapp.views.}\bfcode{merge\_subs}}{\emph{lst\_of\_lsts}}{}
\end{fulllineitems}

\index{remove\_device() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.remove_device}\pysiglinewithargsret{\code{webapp.views.}\bfcode{remove\_device}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{settings() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.settings}\pysiglinewithargsret{\code{webapp.views.}\bfcode{settings}}{\emph{*args}, \emph{**kwargs}}{}
The main function to handle settings requests. This module interprets
where on the settings page the user is and provides correct context
corresponding to their state.

There are three possible states:
\begin{enumerate}
\item {} 
Device

\end{enumerate}

\textbf{Context}
\begin{quote}

\code{devices}
\begin{quote}

A list of devices the user owns. These are the devices
this user is allowed to modify in a restricted way.
\end{quote}
\end{quote}

\textbf{Template}
\begin{quote}

\emph{base/settings\_device\_base.html}
\end{quote}
\begin{enumerate}
\setcounter{enumi}{1}
\item {} 
Account

\end{enumerate}

\textbf{Context}
\begin{quote}

\code{form}
\begin{quote}

A {\hyperref[modules/webapp:webapp.views.SettingsForm]{\emph{\code{webapp.views.SettingsForm}}}} object that provides the
fields to a user necessary to make custom modifications to their
account.
\end{quote}

\code{notification\_choices}
\begin{quote}

A confirmation of the notification choices the user is
subscribed to. Used for client side verification.
\end{quote}
\end{quote}

\textbf{Template}
\begin{quote}

\emph{base/settings\_account.html}
\end{quote}
\begin{enumerate}
\setcounter{enumi}{2}
\item {} 
Dashboard

\end{enumerate}

\textbf{Context}
\begin{quote}

\code{form}
\begin{quote}

A {\hyperref[modules/webapp:webapp.views.SettingsForm]{\emph{\code{webapp.views.SettingsForm}}}} object that provides the
fields to a user necessary to make custom modifications to their
dashboard.
\end{quote}
\end{quote}

\textbf{Template}
\begin{quote}

\emph{base/settings\_dashboard.html}
\end{quote}

\end{fulllineitems}

\index{settings\_account() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.settings_account}\pysiglinewithargsret{\code{webapp.views.}\bfcode{settings\_account}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
This class deals with the actual modification of an account
via the account settings.

\textbf{Context}
\begin{quote}
\begin{quote}

\code{errors}
\begin{quote}

A list of errors that were encountered while processing the
request. This is used to present to the user if one of their
actions did not validate.
\end{quote}

\code{success}
\begin{quote}

Boolean specifying whether or not the action was successful.
This would be false if a user's action did not verify.
\end{quote}

\code{notifications}
\begin{quote}

A list of notifications that a user is subscribed to
after updating the list.
\end{quote}

\code{username}
\begin{quote}

If the user opted to change their username, then the new
username verified by the system is returned to update the
HTML.
\end{quote}

\code{first\_name}
\begin{quote}

If the user opted to change their first name, then the new
first name verified by the system is returned to update the
HTML.
\end{quote}

\code{last\_name}
\begin{quote}

If the user opted to change their last name, then the new
last name verified by the system is returned to update the
HTML.
\end{quote}
\end{quote}

\textbf{Template}
\begin{quote}

\emph{base/settings\_account.html}
\end{quote}
\end{quote}

\end{fulllineitems}

\index{settings\_change\_device() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.settings_change_device}\pysiglinewithargsret{\code{webapp.views.}\bfcode{settings\_change\_device}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
This class is called when a user is ready to modify a device.
Since there are custom fields being displayed, some extra context
must be returned to properly serve the form.

\textbf{Context}
\begin{quote}
\begin{quote}

\code{device}
\begin{quote}

The {\hyperref[modules/microdata:microdata.models.Device]{\emph{\code{microdata.models.Device}}}} being modified
\end{quote}

\code{form}
\begin{quote}

A {\hyperref[modules/webapp:webapp.views.SettingsForm]{\emph{\code{webapp.views.SettingsForm}}}} with values populated
by specifying a device.
\end{quote}

\code{utility\_company\_choices} \code{rate\_plan\_choices} \code{territory\_choices}
\begin{quote}

The various checkbox/dropdown choices for a user to customize
the device's settings.
\end{quote}

\code{farmer\_installed}
\begin{quote}

A proof-of-concept variable that will enable certain
functionality on the HTML page if this application is installed.
\end{quote}
\end{quote}

\textbf{Template}
\begin{quote}

\emph{base/settings\_device.html}
\end{quote}
\end{quote}

\end{fulllineitems}

\index{settings\_dashboard() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.settings_dashboard}\pysiglinewithargsret{\code{webapp.views.}\bfcode{settings\_dashboard}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
\end{fulllineitems}

\index{settings\_device() (in module webapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/webapp:webapp.views.settings_device}\pysiglinewithargsret{\code{webapp.views.}\bfcode{settings\_device}}{\emph{request}, \emph{*args}, \emph{**kwargs}}{}
This class deals with the actual modification of a device
via the device settings.

\textbf{Context}
\begin{quote}
\begin{quote}

\code{success}
\begin{quote}

Boolean specifying whether or not the action was successful.
This would be false if a user's action did not verify.
\end{quote}

\code{appliances}
\begin{quote}

This is a list of appliance that the user requests to be
associated with their custom circuit.
\end{quote}

\code{utility\_companies} \code{rate\_plan} \code{territory}
\begin{quote}

If the user opted to alter any of these fields,
we make the alterations if they are verified
and return the response for client side verification.
\end{quote}
\end{quote}

\textbf{Template}
\begin{quote}

\emph{base/settings\_device.html}
\end{quote}
\end{quote}

\end{fulllineitems}



\subsection{Module contents}
\label{modules/webapp:module-webapp}\label{modules/webapp:module-contents}\index{webapp (module)}

\chapter{Indices and tables}
\label{index:indices-and-tables}\begin{itemize}
\item {} 
\DUspan{xref,std,std-ref}{genindex}

\item {} 
\DUspan{xref,std,std-ref}{modindex}

\item {} 
\DUspan{xref,std,std-ref}{search}

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{theindex}
\def\bigletter#1{{\Large\sffamily#1}\nopagebreak\vspace{1mm}}
\bigletter{c}
\item {\texttt{custom\_config}}, \pageref{modules/custom_config:module-custom_config}
\indexspace
\bigletter{d}
\item {\texttt{debug}}, \pageref{modules/debug:module-debug}
\item {\texttt{debug.admin}}, \pageref{modules/debug:module-debug.admin}
\item {\texttt{debug.forms}}, \pageref{modules/debug:module-debug.forms}
\item {\texttt{debug.models}}, \pageref{modules/debug:module-debug.models}
\item {\texttt{debug.serializers}}, \pageref{modules/debug:module-debug.serializers}
\item {\texttt{debug.urls}}, \pageref{modules/debug:module-debug.urls}
\item {\texttt{debug.views}}, \pageref{modules/debug:module-debug.views}
\indexspace
\bigletter{f}
\item {\texttt{farmer}}, \pageref{modules/farmer:module-farmer}
\item {\texttt{farmer.admin}}, \pageref{modules/farmer:module-farmer.admin}
\item {\texttt{farmer.models}}, \pageref{modules/farmer:module-farmer.models}
\item {\texttt{farmer.serializers}}, \pageref{modules/farmer:module-farmer.serializers}
\item {\texttt{farmer.tests}}, \pageref{modules/farmer:module-farmer.tests}
\item {\texttt{farmer.views}}, \pageref{modules/farmer:module-farmer.views}
\indexspace
\bigletter{h}
\item {\texttt{home}}, \pageref{modules/home:module-home}
\item {\texttt{home.admin}}, \pageref{modules/home:module-home.admin}
\item {\texttt{home.models}}, \pageref{modules/home:module-home.models}
\item {\texttt{home.serializers}}, \pageref{modules/home:module-home.serializers}
\item {\texttt{home.tests}}, \pageref{modules/home:module-home.tests}
\item {\texttt{home.views}}, \pageref{modules/home:module-home.views}
\indexspace
\bigletter{m}
\item {\texttt{manage}}, \pageref{modules/manage:module-manage}
\item {\texttt{microdata}}, \pageref{modules/microdata:module-microdata}
\item {\texttt{microdata.admin}}, \pageref{modules/microdata:module-microdata.admin}
\item {\texttt{microdata.management}}, \pageref{modules/microdata.management:module-microdata.management}
\item {\texttt{microdata.management.commands}}, \pageref{modules/microdata.management.commands:module-microdata.management.commands}
\item {\texttt{microdata.management.commands.archive\_database}}, \pageref{modules/microdata.management.commands:module-microdata.management.commands.archive_database}
\item {\texttt{microdata.management.commands.check\_glacier\_jobs}}, \pageref{modules/microdata.management.commands:module-microdata.management.commands.check_glacier_jobs}
\item {\texttt{microdata.models}}, \pageref{modules/microdata:module-microdata.models}
\item {\texttt{microdata.serializers}}, \pageref{modules/microdata:module-microdata.serializers}
\item {\texttt{microdata.tests}}, \pageref{modules/microdata:module-microdata.tests}
\item {\texttt{microdata.views}}, \pageref{modules/microdata:module-microdata.views}
\indexspace
\bigletter{p}
\item {\texttt{pseudodata}}, \pageref{modules/pseudodata:module-pseudodata}
\item {\texttt{pseudodevice}}, \pageref{modules/pseudodevice:module-pseudodevice}
\indexspace
\bigletter{s}
\item {\texttt{seads}}, \pageref{modules/seads:module-seads}
\item {\texttt{seads.settings}}, \pageref{modules/seads:module-seads.settings}
\item {\texttt{seads.urls}}, \pageref{modules/seads:module-seads.urls}
\item {\texttt{seads.wsgi}}, \pageref{modules/seads:module-seads.wsgi}
\indexspace
\bigletter{w}
\item {\texttt{webapp}}, \pageref{modules/webapp:module-webapp}
\item {\texttt{webapp.admin}}, \pageref{modules/webapp:module-webapp.admin}
\item {\texttt{webapp.device\_dictionary}}, \pageref{modules/webapp:module-webapp.device_dictionary}
\item {\texttt{webapp.management}}, \pageref{modules/webapp.management:module-webapp.management}
\item {\texttt{webapp.management.commands}}, \pageref{modules/webapp.management.commands:module-webapp.management.commands}
\item {\texttt{webapp.management.commands.reset\_kilowatt\_accumulations}}, \pageref{modules/webapp.management.commands:module-webapp.management.commands.reset_kilowatt_accumulations}
\item {\texttt{webapp.models}}, \pageref{modules/webapp:module-webapp.models}
\item {\texttt{webapp.tests}}, \pageref{modules/webapp:module-webapp.tests}
\item {\texttt{webapp.timeseries}}, \pageref{modules/webapp:module-webapp.timeseries}
\item {\texttt{webapp.views}}, \pageref{modules/webapp:module-webapp.views}
\end{theindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}
